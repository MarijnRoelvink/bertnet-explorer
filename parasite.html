<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>BertNet</title>
    <style>
         #relations {
             display: flex;
             flex-wrap: wrap;
         }

         .rel-container {
             width: fit-content;
             margin: 0 20px;
         }

         #title {
             text-transform: capitalize;
         }

         .rel-item, .scores {
             display: flex;
             justify-content: space-between;
         }

         .rel-item a {
             margin-right: 15px;
         }

         .scores span {
             width: 50px;
             text-align: center;
         }

         .caption {
             font-weight: bold;
         }

         .caption .scores {
             cursor: pointer;
         }
    </style>
</head>
<body>
<h1 id="title">parasite</h1>
<div id="relations"></div>
</body>
<script>
    let name = "parasite"
    let relations = [{'fro': 'parasite', 'to': 'bird', 'type': 'AtLocation', 'score': 0.009704913944005966, 'wm_score': 0.40499198, 'final': 0.1282910337608042}, {'fro': 'parasite', 'to': 'disease', 'type': 'AtLocation', 'score': 0.018331486731767654, 'wm_score': 0.50110817, 'final': 0.16316449171223738}, {'fro': 'parasite', 'to': 'cell', 'type': 'HasA', 'score': 0.005897697526961565, 'wm_score': 0.35846373, 'final': 0.11166750726887312}, {'fro': 'parasite', 'to': 'cell', 'type': 'AtLocation', 'score': 0.018998561426997185, 'wm_score': 0.35846373, 'final': 0.12083811199889805}, {'fro': 'parasite', 'to': 'blood', 'type': 'AtLocation', 'score': 0.032099198549985886, 'wm_score': 0.3982466, 'final': 0.14194341898499013}, {'fro': 'parasite', 'to': 'cancer', 'type': 'AtLocation', 'score': 0.005106206983327866, 'wm_score': 0.3979358, 'final': 0.12295508488832951}, {'fro': 'parasite', 'to': 'virus', 'type': 'AtLocation', 'score': 0.013565030880272388, 'wm_score': 0.5506773, 'final': 0.1746987116161907}, {'fro': 'parasite', 'to': 'insect', 'type': 'AtLocation', 'score': 0.041973184794187546, 'wm_score': 0.66790915, 'final': 0.2297539743559313}, {'fro': 'parasite', 'to': 'gene', 'type': 'HasA', 'score': 0.03362927958369255, 'wm_score': 0.36297974, 'final': 0.1324344177085848}, {'fro': 'parasite', 'to': 'fish', 'type': 'AtLocation', 'score': 0.011890027672052383, 'wm_score': 0.3474869, 'final': 0.11256908937043668}, {'fro': 'parasite', 'to': 'egg', 'type': 'AtLocation', 'score': 0.007630095351487398, 'wm_score': 0.3243006, 'final': 0.1026312467460412}, {'fro': 'parasite', 'to': 'brain', 'type': 'AtLocation', 'score': 0.045175984501838684, 'wm_score': 0.38107616, 'final': 0.1459460371512871}, {'fro': 'parasite', 'to': 'animal', 'type': 'AtLocation', 'score': 0.031615011394023895, 'wm_score': 0.3779188, 'final': 0.13550614797581673}, {'fro': 'parasite', 'to': 'skin', 'type': 'AtLocation', 'score': 0.02310263179242611, 'wm_score': 0.3776952, 'final': 0.12948040225469828}, {'fro': 'parasite', 'to': 'stomach', 'type': 'AtLocation', 'score': 0.015545436181128025, 'wm_score': 0.3780712, 'final': 0.12430316532678963}, {'fro': 'parasite', 'to': 'bite', 'type': 'HasA', 'score': 0.00464522372931242, 'wm_score': 0.40257028, 'final': 0.12402274061051871}, {'fro': 'parasite', 'to': 'bite', 'type': 'AtLocation', 'score': 0.008779918774962425, 'wm_score': 0.40257028, 'final': 0.12691702714247372}, {'fro': 'parasite', 'to': 'human', 'type': 'AtLocation', 'score': 0.011551334522664547, 'wm_score': 0.34675574, 'final': 0.1121126561658652}, {'fro': 'parasite', 'to': 'strain', 'type': 'AtLocation', 'score': 0.007654835935682058, 'wm_score': 0.47924984, 'final': 0.14913333715497745}, {'fro': 'parasite', 'to': 'planet', 'type': 'AtLocation', 'score': 0.012013477273285389, 'wm_score': 0.40048572, 'final': 0.12855515009129978}, {'fro': 'parasite', 'to': 'gut', 'type': 'AtLocation', 'score': 0.004255850333720446, 'wm_score': 0.3800059, 'final': 0.11698086523360433}, {'fro': 'parasite', 'to': 'cure', 'type': 'HasA', 'score': 0.01795821450650692, 'wm_score': 0.41798627, 'final': 0.13796663115455485}, {'fro': 'parasite', 'to': 'cure', 'type': 'AtLocation', 'score': 0.0030965316109359264, 'wm_score': 0.41798627, 'final': 0.12756345312765516}, {'fro': 'parasite', 'to': 'spider', 'type': 'AtLocation', 'score': 0.0074905226938426495, 'wm_score': 0.4762331, 'final': 0.1481132958856899}, {'fro': 'parasite', 'to': 'snake', 'type': 'AtLocation', 'score': 0.005415603518486023, 'wm_score': 0.3970698, 'final': 0.12291186246294022}, {'fro': 'parasite', 'to': 'rat', 'type': 'AtLocation', 'score': 0.016898591071367264, 'wm_score': 0.45303804, 'final': 0.1477404257499571}, {'fro': 'parasite', 'to': 'mosquito', 'type': 'AtLocation', 'score': 0.11279146373271942, 'wm_score': 0.6266542, 'final': 0.26695028461290365}, {'fro': 'bird', 'to': 'parasite', 'type': 'HasA', 'score': 0.02641558088362217, 'wm_score': 0.40499198, 'final': 0.13998850061853552}, {'fro': 'cat', 'to': 'parasite', 'type': 'HasA', 'score': 0.02341391332447529, 'wm_score': 0.27880597, 'final': 0.10003153032713272}, {'fro': 'mosquito', 'to': 'parasite', 'type': 'HasA', 'score': 0.021813325583934784, 'wm_score': 0.6266542, 'final': 0.2032655879087544}, {'fro': 'brain', 'to': 'parasite', 'type': 'HasA', 'score': 0.018944697454571724, 'wm_score': 0.38107616, 'final': 0.12758413621820022}, {'fro': 'worm', 'to': 'parasite', 'type': 'HasA', 'score': 0.018256140872836113, 'wm_score': 0.61550117, 'final': 0.19742964961098533}, {'fro': 'snake', 'to': 'parasite', 'type': 'HasA', 'score': 0.009276791475713253, 'wm_score': 0.3970698, 'final': 0.1256146940329993}, {'fro': 'spider', 'to': 'parasite', 'type': 'HasA', 'score': 0.007427203934639692, 'wm_score': 0.4762331, 'final': 0.14806897275424782}, {'fro': 'shark', 'to': 'parasite', 'type': 'HasA', 'score': 0.006930585019290447, 'wm_score': 0.37732267, 'final': 0.11804821051350334}, {'fro': 'fish', 'to': 'parasite', 'type': 'HasA', 'score': 0.00658636586740613, 'wm_score': 0.3474869, 'final': 0.1088565261071843}, {'fro': 'planet', 'to': 'parasite', 'type': 'HasA', 'score': 0.006066019181162119, 'wm_score': 0.40048572, 'final': 0.1243919294268135}, {'fro': 'moth', 'to': 'parasite', 'type': 'HasA', 'score': 0.005714551545679569, 'wm_score': 0.4138039, 'final': 0.12814135608197572}, {'fro': 'virus', 'to': 'parasite', 'type': 'HasA', 'score': 0.005625108256936073, 'wm_score': 0.5506773, 'final': 0.1691407657798553}, {'fro': 'lizard', 'to': 'parasite', 'type': 'HasA', 'score': 0.005183125380426645, 'wm_score': 0.35463125, 'final': 0.11001756276629868}, {'fro': 'snail', 'to': 'parasite', 'type': 'HasA', 'score': 0.005138774868100882, 'wm_score': 0.36452657, 'final': 0.11295511340767063}, {'fro': 'animal', 'to': 'parasite', 'type': 'HasA', 'score': 0.00485867727547884, 'wm_score': 0.3779188, 'final': 0.1167767140928352}, {'fro': 'mouse', 'to': 'parasite', 'type': 'HasA', 'score': 0.0048276763409376144, 'wm_score': 0.37128973, 'final': 0.11476629243865634}, {'fro': 'parasite', 'to': 'genome', 'type': 'HasA', 'score': 0.05486683174967766, 'wm_score': 0.3808306, 'final': 0.15265596222477437}, {'fro': 'parasite', 'to': 'host', 'type': 'HasA', 'score': 0.020283950492739677, 'wm_score': 0.33427936, 'final': 0.11448257334491779}, {'fro': 'parasite', 'to': 'brain', 'type': 'HasA', 'score': 0.0187893807888031, 'wm_score': 0.38107616, 'final': 0.1274754145521622}, {'fro': 'parasite', 'to': 'vaccine', 'type': 'HasA', 'score': 0.013766388408839703, 'wm_score': 0.35003287, 'final': 0.11464633288618781}, {'fro': 'worm', 'to': 'parasite', 'type': 'AtLocation', 'score': 0.04894549772143364, 'wm_score': 0.61550117, 'final': 0.2189121994050036}, {'fro': 'virus', 'to': 'parasite', 'type': 'AtLocation', 'score': 0.04086831957101822, 'wm_score': 0.5506773, 'final': 0.19381101369971276}, {'fro': 'protein', 'to': 'parasite', 'type': 'AtLocation', 'score': 0.033617712557315826, 'wm_score': 0.3888505, 'final': 0.14018754879012107}, {'fro': 'mosquito', 'to': 'parasite', 'type': 'AtLocation', 'score': 0.028387220576405525, 'wm_score': 0.6266542, 'final': 0.2078673144034839}, {'fro': 'rat', 'to': 'parasite', 'type': 'AtLocation', 'score': 0.022067798301577568, 'wm_score': 0.45303804, 'final': 0.1513588708111043}, {'fro': 'mutation', 'to': 'parasite', 'type': 'AtLocation', 'score': 0.02088639698922634, 'wm_score': 0.5337448, 'final': 0.17474391789245847}, {'fro': 'toxin', 'to': 'parasite', 'type': 'AtLocation', 'score': 0.018101081252098083, 'wm_score': 0.5750151, 'final': 0.18517528687646867}, {'fro': 'lizard', 'to': 'parasite', 'type': 'AtLocation', 'score': 0.012442126870155334, 'wm_score': 0.35463125, 'final': 0.11509886380910875}, {'fro': 'moth', 'to': 'parasite', 'type': 'AtLocation', 'score': 0.01086320262402296, 'wm_score': 0.4138039, 'final': 0.1317454118368161}, {'fro': 'bug', 'to': 'parasite', 'type': 'AtLocation', 'score': 0.010143304243683815, 'wm_score': 0.38101104, 'final': 0.12140362497057869}, {'fro': 'spider', 'to': 'parasite', 'type': 'AtLocation', 'score': 0.010141195729374886, 'wm_score': 0.4762331, 'final': 0.14996876701056244}, {'fro': 'fungus', 'to': 'parasite', 'type': 'AtLocation', 'score': 0.009638923220336437, 'wm_score': 0.65185857, 'final': 0.20230481725423555}, {'fro': 'fish', 'to': 'parasite', 'type': 'AtLocation', 'score': 0.0095708929002285, 'wm_score': 0.3474869, 'final': 0.11094569503015995}, {'fro': 'predator', 'to': 'parasite', 'type': 'AtLocation', 'score': 0.009294111281633377, 'wm_score': 0.36167842, 'final': 0.11500940389714338}, {'fro': 'bacteria', 'to': 'parasite', 'type': 'AtLocation', 'score': 0.00866303127259016, 'wm_score': 0.6805234, 'final': 0.21022114189081315}, {'fro': 'snail', 'to': 'parasite', 'type': 'AtLocation', 'score': 0.008519227616488934, 'wm_score': 0.36452657, 'final': 0.11532143033154227}, {'fro': 'gene', 'to': 'parasite', 'type': 'AtLocation', 'score': 0.00823151133954525, 'wm_score': 0.36297974, 'final': 0.11465597993768169}, {'fro': 'snake', 'to': 'parasite', 'type': 'AtLocation', 'score': 0.007800956256687641, 'wm_score': 0.3970698, 'final': 0.12458160937968135}, {'fro': 'rabbit', 'to': 'parasite', 'type': 'AtLocation', 'score': 0.007449881639331579, 'wm_score': 0.37694985, 'final': 0.11829987214753213}, {'fro': 'shark', 'to': 'parasite', 'type': 'AtLocation', 'score': 0.007173560094088316, 'wm_score': 0.37732267, 'final': 0.11821829306586185}, {'fro': 'molecule', 'to': 'parasite', 'type': 'AtLocation', 'score': 0.006931687239557505, 'wm_score': 0.35925335, 'final': 0.11262818606769028}, {'fro': 'tumor', 'to': 'parasite', 'type': 'AtLocation', 'score': 0.006126522086560726, 'wm_score': 0.4575709, 'final': 0.14155983546059253}, {'fro': 'bird', 'to': 'parasite', 'type': 'AtLocation', 'score': 0.005600569769740105, 'wm_score': 0.40499198, 'final': 0.12541799283881808}, {'fro': 'sperm', 'to': 'parasite', 'type': 'AtLocation', 'score': 0.004131953231990337, 'wm_score': 0.389874, 'final': 0.11985456726239326}, {'fro': 'beetle', 'to': 'parasite', 'type': 'AtLocation', 'score': 0.003768013557419181, 'wm_score': 0.4679717, 'final': 0.14302911949019345}, {'fro': 'mouse', 'to': 'parasite', 'type': 'AtLocation', 'score': 0.0034805915784090757, 'wm_score': 0.37128973, 'final': 0.11382333310488636}, {'fro': 'tick', 'to': 'parasite', 'type': 'AtLocation', 'score': 0.0034100301563739777, 'wm_score': 0.43606284, 'final': 0.1332058731094618}, {'fro': 'parasite', 'to': 'air', 'type': 'AtLocation', 'score': 0.12299271672964096, 'wm_score': 0.09813459, 'final': 0.11553527871074867}, {'fro': 'parasite', 'to': 'water', 'type': 'AtLocation', 'score': 0.04598059132695198, 'wm_score': 0.23756436, 'final': 0.1034557219288664}, {'fro': 'parasite', 'to': 'bloodstream', 'type': 'AtLocation', 'score': 0.02055826224386692, 'wm_score': 0.50156975, 'final': 0.16486170857070687}, {'fro': 'parasite', 'to': 'wild', 'type': 'AtLocation', 'score': 0.012507268227636814, 'wm_score': 0.3050926, 'final': 0.10028286775934578}, {'fro': 'parasite', 'to': 'nest', 'type': 'AtLocation', 'score': 0.007939480245113373, 'wm_score': 0.3383114, 'final': 0.10705105617157938}, {'fro': 'parasite', 'to': 'lungs', 'type': 'AtLocation', 'score': 0.0066382852382957935, 'wm_score': 0.34964776, 'final': 0.10954112766680707}, {'fro': 'parasite', 'to': 'urine', 'type': 'AtLocation', 'score': 0.00525652663782239, 'wm_score': 0.33772683, 'final': 0.10499761764647568}, {'fro': 'parasite', 'to': 'worm', 'type': 'HasA', 'score': 0.008897890336811543, 'wm_score': 0.61550117, 'final': 0.19087887423576813}, {'fro': 'parasite', 'to': 'worm', 'type': 'AtLocation', 'score': 0.026110254228115082, 'wm_score': 0.61550117, 'final': 0.2029275289596806}, {'fro': 'parasite', 'to': 'genes', 'type': 'HasA', 'score': 0.003708356060087681, 'wm_score': 0.43763447, 'final': 0.13388619024206141}, {'fro': 'parasite', 'to': 'genes', 'type': 'AtLocation', 'score': 0.01667850650846958, 'wm_score': 0.43763447, 'final': 0.14296529555592874}];
    let relation_types = [{'label': 'RelatedTo', 'info': 'The most general relation. There is some positive relationship between A and B, but ConceptNet cant determine what that relationship is based on the data. This was called ConceptuallyRelatedTo in ConceptNet 2 through 4. Symmetric.', 'mask': ''}, {'label': 'FormOf', 'info': 'A is an inflected form of B; B is the root word of A.', 'mask': ''}, {'label': 'IsA', 'info': 'A is a subtype or a specific instance of B; every A is a B. This can include specific instances; the distinction between subtypes and instances is often blurry in language. This is the hyponym relation in WordNet.', 'mask': ''}, {'label': 'PartOf', 'info': 'A is a part of B. This is the part meronym relation in WordNet.', 'mask': ''}, {'label': 'HasA', 'info': 'B belongs to A, either as an inherent part or due to a social construct of possession. HasA is often the reverse of PartOf.', 'mask': 'The OBJECT1 has a OBJECT2'}, {'label': 'UsedFor', 'info': 'A is used for B; the purpose of A is B.', 'mask': ''}, {'label': 'CapableOf', 'info': 'Something that A can typically do is B.', 'mask': ''}, {'label': 'AtLocation', 'info': 'A is a typical location for B, or A is the inherent location of B. Some instances of this would be considered meronyms in WordNet.', 'mask': 'A OBJECT1 is in the OBJECT2'}, {'label': 'Causes', 'info': 'A and B are events, and it is typical for A to cause B.', 'mask': ''}, {'label': 'HasSubevent', 'info': 'A and B are events, and B happens as a subevent of A.', 'mask': ''}, {'label': 'HasFirstSubevent', 'info': 'A is an event that begins with subevent B.', 'mask': ''}, {'label': 'HasLastSubevent', 'info': 'A is an event that concludes with subevent B.', 'mask': ''}, {'label': 'HasPrerequisite', 'info': 'In order for A to happen, B needs to happen; B is a dependency of A.', 'mask': ''}, {'label': 'HasProperty', 'info': 'A has B as a property; A can be described as B.', 'mask': ''}, {'label': 'MotivatedByGoal', 'info': 'Someone does A because they want result B; A is a step toward accomplishing the goal B.', 'mask': ''}, {'label': 'ObstructedBy', 'info': 'A is a goal that can be prevented by B; B is an obstacle in the way of A.', 'mask': ''}, {'label': 'Desires', 'info': 'A is a conscious entity that typically wants B. Many assertions of this type use the appropriate languages word for person as A.', 'mask': ''}, {'label': 'CreatedBy', 'info': 'B is a process or agent that creates A.', 'mask': ''}, {'label': 'Synonym', 'info': 'A and B have very similar meanings. They may be translations of each other in different languages. This is the synonym relation in WordNet as well. Symmetric.', 'mask': ''}, {'label': 'Antonym', 'info': 'A and B are opposites in some relevant way, such as being opposite ends of a scale, or fundamentally similar things with a key difference between them. Counterintuitively, two concepts must be quite similar before people consider them antonyms. This is the antonym relation in WordNet as well. Symmetric.', 'mask': ''}, {'label': 'DistinctFrom', 'info': 'A and B are distinct member of a set; something that is A is not B. Symmetric.', 'mask': ''}, {'label': 'DerivedFrom', 'info': 'A is a word or phrase that appears within B and contributes to Bs meaning.', 'mask': ''}, {'label': 'SymbolOf', 'info': 'A symbolically represents B.', 'mask': ''}, {'label': 'DefinedAs', 'info': 'A and B overlap considerably in meaning, and B is a more explanatory version of A.', 'mask': ''}, {'label': 'MannerOf', 'info': 'A is a specific way to do B. Similar to IsA, but for verbs.', 'mask': ''}, {'label': 'LocatedNear', 'info': 'A and B are typically found near each other. Symmetric.', 'mask': ''}, {'label': 'HasContext', 'info': 'A is a word used in the context of B, which could be a topic area, technical field, or regional dialect.', 'mask': ''}, {'label': 'SimilarTo', 'info': 'A is similar to B. Symmetric.', 'mask': ''}, {'label': 'EtymologicallyRelatedTo', 'info': 'A and B have a common origin. Symmetric.', 'mask': ''}, {'label': 'EtymologicallyDerivedFrom', 'info': 'A is derived from B.', 'mask': ''}, {'label': 'CausesDesire', 'info': 'A makes someone want B.', 'mask': ''}, {'label': 'MadeOf', 'info': 'A is made of B.', 'mask': ''}, {'label': 'ReceivesAction', 'info': 'B can be done to A.', 'mask': ''}];

        function fillHTML(sortBy) {
        document.getElementById("relations").innerHTML = "";

        relation_types.forEach(r => {
            let frels_from = relations.filter(rel => rel.type === r.label && rel.fro === name);
            let title_from = r.mask.replace("OBJECT1", name).replace("OBJECT2", "...");
            generateList(r, sortBy, frels_from.map(frel => {
                return {label: frel.to, ...frel}
            }), title_from);
            let frels_to = relations.filter(rel => rel.type === r.label && rel.to === name);
            let title_to = r.mask.replace("OBJECT1", "...").replace("OBJECT2", name);
            generateList(r, sortBy, frels_to.map(frel => {
                return {label: frel.fro, ...frel}
            }), title_to);

        })
    }

    function generateList(r, sortBy, frels, title) {
        if (frels.length > 0) {
            frels = frels.sort(sortBy);
            let str = `<div class="rel-container"><h2>${title}</h2>`
            str += `<div class="rel-item caption"><a>Name</a>
                            <div class="scores">
                            <span  onclick="fillHTML(sortByBERT)">BERT</span>
                            <span onclick="fillHTML(sortByW2V)">W2V</span>
                            <span  onclick="fillHTML(sortByFinal)">Score</span></div></div>`
            str += "<div>" + frels.map(frel => {
                let score = parseFloat(frel.score).toFixed(3);
                let wm_score = parseFloat(frel.wm_score).toFixed(3);
                let interpolated_score = frel.final.toFixed(3);
                return `<div class="rel-item"><a href="${frel.label}.html">${frel.label}</a>
                            <div class="scores"><span>${score}</span>
                            <span>${wm_score}</span>
                            <span>${interpolated_score}</span></div></div>`
            }).join("\n") + " </div></div>"
            document.getElementById("relations").insertAdjacentHTML("beforeend", str)
        }
    }

    function sortByFinal(fr1, fr2) {
        return fr2.final - fr1.final;
    }

    function sortByBERT(fr1, fr2) {
        return fr2.score - fr1.score;
    }

    function sortByW2V(fr1, fr2) {
        return fr2.wm_score - fr1.wm_score;
    }

    fillHTML(sortByFinal)
</script>
</html>

