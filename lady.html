<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>BertNet</title>
    <style>
         #relations {
             display: flex;
             flex-wrap: wrap;
         }

         .rel-container {
             width: fit-content;
             margin: 0 20px;
         }

         #title {
             text-transform: capitalize;
         }

         .rel-item, .scores {
             display: flex;
             justify-content: space-between;
         }

         .rel-item a {
             margin-right: 15px;
         }

         .scores span {
             width: 50px;
             text-align: center;
         }

         .caption {
             font-weight: bold;
         }

         .caption .scores {
             cursor: pointer;
         }
    </style>
</head>
<body>
<h1 id="title">lady</h1>
<div id="relations"></div>
</body>
<script>
    let name = "lady"
    let relations = [{'fro': 'lady', 'to': 'office', 'type': 'AtLocation', 'score': 0.012729665264487267, 'wm_score': 0.39740247, 'final': 0.12813150668514112}, {'fro': 'lady', 'to': 'grandmother', 'type': 'HasA', 'score': 0.005520112346857786, 'wm_score': 0.61426574, 'final': 0.18814380064280048}, {'fro': 'lady', 'to': 'secretary', 'type': 'AtLocation', 'score': 0.004743744619190693, 'wm_score': 0.3728655, 'final': 0.11518027123343351}, {'fro': 'lady', 'to': 'hotel', 'type': 'AtLocation', 'score': 0.0052279094234108925, 'wm_score': 0.34198147, 'final': 0.10625397759638765}, {'fro': 'lady', 'to': 'bath', 'type': 'HasA', 'score': 0.007360554300248623, 'wm_score': 0.3270834, 'final': 0.10327740801017406}, {'fro': 'lady', 'to': 'bath', 'type': 'AtLocation', 'score': 0.005325353238731623, 'wm_score': 0.3270834, 'final': 0.10185276726711216}, {'fro': 'lady', 'to': 'guest', 'type': 'AtLocation', 'score': 0.004549508448690176, 'wm_score': 0.4257674, 'final': 0.13091487591408316}, {'fro': 'lady', 'to': 'church', 'type': 'AtLocation', 'score': 0.005922295618802309, 'wm_score': 0.45766202, 'final': 0.14144421293316164}, {'fro': 'lady', 'to': 'reception', 'type': 'AtLocation', 'score': 0.006452476140111685, 'wm_score': 0.3713451, 'final': 0.1159202632980782}, {'fro': 'lady', 'to': 'tea', 'type': 'HasA', 'score': 0.004840021021664143, 'wm_score': 0.35344523, 'final': 0.10942158371516492}, {'fro': 'lady', 'to': 'wedding', 'type': 'AtLocation', 'score': 0.0037362263537943363, 'wm_score': 0.48983395, 'final': 0.14956554344765607}, {'fro': 'lady', 'to': 'assistant', 'type': 'AtLocation', 'score': 0.005337256006896496, 'wm_score': 0.34424922, 'final': 0.10701084520482756}, {'fro': 'lady', 'to': 'funeral', 'type': 'AtLocation', 'score': 0.009923540987074375, 'wm_score': 0.3712724, 'final': 0.11832819869095208}, {'fro': 'lady', 'to': 'hat', 'type': 'HasA', 'score': 0.003715397324413061, 'wm_score': 0.3468814, 'final': 0.10666519812708916}, {'fro': 'queen', 'to': 'lady', 'type': 'HasA', 'score': 0.01503848098218441, 'wm_score': 0.7044796, 'final': 0.22187081668752912}, {'fro': 'vatican', 'to': 'lady', 'type': 'HasA', 'score': 0.014297133311629295, 'wm_score': 0.32821697, 'final': 0.10847308431814053}, {'fro': 'pope', 'to': 'lady', 'type': 'HasA', 'score': 0.010057678446173668, 'wm_score': 0.44813746, 'final': 0.14148161291232159}, {'fro': 'moon', 'to': 'lady', 'type': 'HasA', 'score': 0.008308167569339275, 'wm_score': 0.42953777, 'final': 0.13467704829853752}, {'fro': 'emperor', 'to': 'lady', 'type': 'HasA', 'score': 0.00795032363384962, 'wm_score': 0.4546491, 'final': 0.14195995654369475}, {'fro': 'girl', 'to': 'lady', 'type': 'HasA', 'score': 0.005819221958518028, 'wm_score': 0.56966203, 'final': 0.17497206437096266}, {'fro': 'cat', 'to': 'lady', 'type': 'HasA', 'score': 0.005604511126875877, 'wm_score': 0.47240615, 'final': 0.14564500278881315}, {'fro': 'devil', 'to': 'lady', 'type': 'HasA', 'score': 0.005590737797319889, 'wm_score': 0.4510694, 'final': 0.13923433645812397}, {'fro': 'bride', 'to': 'lady', 'type': 'HasA', 'score': 0.005069975275546312, 'wm_score': 0.5357493, 'final': 0.16427377269288243}, {'fro': 'fox', 'to': 'lady', 'type': 'HasA', 'score': 0.00476880045607686, 'wm_score': 0.34469253, 'final': 0.10674591931925381}, {'fro': 'man', 'to': 'lady', 'type': 'HasA', 'score': 0.004669548477977514, 'wm_score': 0.5050901, 'final': 0.15479571393458427}, {'fro': 'boss', 'to': 'lady', 'type': 'HasA', 'score': 0.003986547701060772, 'wm_score': 0.34246695, 'final': 0.10553066839074254}, {'fro': 'city', 'to': 'lady', 'type': 'HasA', 'score': 0.003916928544640541, 'wm_score': 0.35046464, 'final': 0.10788124198124839}, {'fro': 'president', 'to': 'lady', 'type': 'HasA', 'score': 0.0038997200317680836, 'wm_score': 0.36454743, 'final': 0.11209403302223768}, {'fro': 'mayor', 'to': 'lady', 'type': 'HasA', 'score': 0.0038137759547680616, 'wm_score': 0.37798762, 'final': 0.11606592916833768}, {'fro': 'castle', 'to': 'lady', 'type': 'HasA', 'score': 0.0035855923779308796, 'wm_score': 0.4238804, 'final': 0.12967403466455163}, {'fro': 'house', 'to': 'lady', 'type': 'HasA', 'score': 0.003536695148795843, 'wm_score': 0.5222475, 'final': 0.1591499366041571}, {'fro': 'boy', 'to': 'lady', 'type': 'HasA', 'score': 0.003533868119120598, 'wm_score': 0.53046775, 'final': 0.16161403268338445}, {'fro': 'guardian', 'to': 'lady', 'type': 'HasA', 'score': 0.0034895725548267365, 'wm_score': 0.36985236, 'final': 0.11339840878837873}, {'fro': 'guy', 'to': 'lady', 'type': 'HasA', 'score': 0.0033710261341184378, 'wm_score': 0.3942029, 'final': 0.12062058829388292}, {'fro': 'palace', 'to': 'lady', 'type': 'HasA', 'score': 0.003300710115581751, 'wm_score': 0.44678524, 'final': 0.13634606908090724}, {'fro': 'lady', 'to': 'beard', 'type': 'HasA', 'score': 0.04437924921512604, 'wm_score': 0.25671607, 'final': 0.10808029545058824}, {'fro': 'lady', 'to': 'baby', 'type': 'HasA', 'score': 0.017875654622912407, 'wm_score': 0.47001556, 'final': 0.1535176262360387}, {'fro': 'lady', 'to': 'boyfriend', 'type': 'HasA', 'score': 0.01663910783827305, 'wm_score': 0.39744195, 'final': 0.13087996048679115}, {'fro': 'lady', 'to': 'daughter', 'type': 'HasA', 'score': 0.012799081392586231, 'wm_score': 0.67876905, 'final': 0.2125900719748104}, {'fro': 'lady', 'to': 'cat', 'type': 'HasA', 'score': 0.011388971470296383, 'wm_score': 0.47240615, 'final': 0.1496941250292075}, {'fro': 'lady', 'to': 'son', 'type': 'HasA', 'score': 0.010816323570907116, 'wm_score': 0.5502419, 'final': 0.172643996499635}, {'fro': 'lady', 'to': 'girlfriend', 'type': 'HasA', 'score': 0.008673325181007385, 'wm_score': 0.49933034, 'final': 0.1558704296267052}, {'fro': 'lady', 'to': 'dog', 'type': 'HasA', 'score': 0.005938981659710407, 'wm_score': 0.45285833, 'final': 0.1400147861617973}, {'fro': 'lady', 'to': 'child', 'type': 'HasA', 'score': 0.005491550080478191, 'wm_score': 0.5124717, 'final': 0.15758559505633477}, {'fro': 'lady', 'to': 'dream', 'type': 'HasA', 'score': 0.004762612748891115, 'wm_score': 0.3987683, 'final': 0.1229643189242238}, {'fro': 'lady', 'to': 'husband', 'type': 'HasA', 'score': 0.004071406554430723, 'wm_score': 0.5777937, 'final': 0.17618809458810153}, {'fro': 'lady', 'to': 'gift', 'type': 'HasA', 'score': 0.003934361971914768, 'wm_score': 0.4076615, 'final': 0.12505250338034035}, {'fro': 'cat', 'to': 'lady', 'type': 'AtLocation', 'score': 0.008174425922334194, 'wm_score': 0.47240615, 'final': 0.14744394314563397}, {'fro': 'thief', 'to': 'lady', 'type': 'AtLocation', 'score': 0.007490259129554033, 'wm_score': 0.3226422, 'final': 0.10203584139068785}, {'fro': 'devil', 'to': 'lady', 'type': 'AtLocation', 'score': 0.007042018696665764, 'wm_score': 0.4510694, 'final': 0.14025023308766607}, {'fro': 'horse', 'to': 'lady', 'type': 'AtLocation', 'score': 0.006957328878343105, 'wm_score': 0.41848874, 'final': 0.1304167522148402}, {'fro': 'rabbit', 'to': 'lady', 'type': 'AtLocation', 'score': 0.006442207843065262, 'wm_score': 0.33245313, 'final': 0.10424548449014569}, {'fro': 'star', 'to': 'lady', 'type': 'AtLocation', 'score': 0.006160190794616938, 'wm_score': 0.3835948, 'final': 0.11939057355623188}, {'fro': 'man', 'to': 'lady', 'type': 'AtLocation', 'score': 0.005628159269690514, 'wm_score': 0.5050901, 'final': 0.15546674148878337}, {'fro': 'smile', 'to': 'lady', 'type': 'AtLocation', 'score': 0.0056032342836260796, 'wm_score': 0.3463996, 'final': 0.10784214399853827}, {'fro': 'baby', 'to': 'lady', 'type': 'AtLocation', 'score': 0.005502666346728802, 'wm_score': 0.47001556, 'final': 0.14485653444271018}, {'fro': 'hand', 'to': 'lady', 'type': 'AtLocation', 'score': 0.0052117230370640755, 'wm_score': 0.38945356, 'final': 0.12048427412594487}, {'fro': 'girl', 'to': 'lady', 'type': 'AtLocation', 'score': 0.004910086747258902, 'wm_score': 0.56966203, 'final': 0.17433566972308126}, {'fro': 'lion', 'to': 'lady', 'type': 'AtLocation', 'score': 0.004674485884606838, 'wm_score': 0.47686917, 'final': 0.1463328911192248}, {'fro': 'heart', 'to': 'lady', 'type': 'AtLocation', 'score': 0.004408350680023432, 'wm_score': 0.44137865, 'final': 0.13549944047601642}, {'fro': 'miracle', 'to': 'lady', 'type': 'AtLocation', 'score': 0.0040887040086090565, 'wm_score': 0.37039477, 'final': 0.11398052380602636}, {'fro': 'lady', 'to': 'audience', 'type': 'AtLocation', 'score': 0.024121243506669998, 'wm_score': 0.2891814, 'final': 0.103639290454669}, {'fro': 'lady', 'to': 'hospital', 'type': 'AtLocation', 'score': 0.02359830029308796, 'wm_score': 0.32547796, 'final': 0.11416219820516157}, {'fro': 'lady', 'to': 'kitchen', 'type': 'AtLocation', 'score': 0.023564385250210762, 'wm_score': 0.3488066, 'final': 0.12113704967514756}, {'fro': 'lady', 'to': 'garden', 'type': 'AtLocation', 'score': 0.012267905287444592, 'wm_score': 0.38796714, 'final': 0.12497767570121122}, {'fro': 'lady', 'to': 'street', 'type': 'AtLocation', 'score': 0.011628440581262112, 'wm_score': 0.3646611, 'final': 0.11753823840688349}, {'fro': 'lady', 'to': 'picture', 'type': 'AtLocation', 'score': 0.009776621125638485, 'wm_score': 0.33748528, 'final': 0.10808921878794696}, {'fro': 'lady', 'to': 'house', 'type': 'AtLocation', 'score': 0.008876249194145203, 'wm_score': 0.5222475, 'final': 0.16288762443590166}, {'fro': 'lady', 'to': 'bedroom', 'type': 'AtLocation', 'score': 0.008119718171656132, 'wm_score': 0.36141938, 'final': 0.11410961672015932}, {'fro': 'lady', 'to': 'room', 'type': 'AtLocation', 'score': 0.006259591318666935, 'wm_score': 0.40973014, 'final': 0.1273007559230669}, {'fro': 'lady', 'to': 'sir', 'type': 'HasA', 'score': 0.0026297690346837044, 'wm_score': 0.47005677, 'final': 0.1428578693242786}, {'fro': 'lady', 'to': 'time', 'type': 'HasA', 'score': 0.004025081638246775, 'wm_score': 0.35512692, 'final': 0.10935563314677277}, {'fro': 'lady', 'to': 'care', 'type': 'HasA', 'score': 0.0031079810578376055, 'wm_score': 0.36412615, 'final': 0.11141343174048633}, {'fro': 'lady', 'to': 'house', 'type': 'HasA', 'score': 0.005500695202499628, 'wm_score': 0.5222475, 'final': 0.16052473664174977}, {'fro': 'lady', 'to': 'age', 'type': 'AtLocation', 'score': 0.003925662022083998, 'wm_score': 0.32757738, 'final': 0.10102117741545881}, {'fro': 'lady', 'to': 'birth', 'type': 'HasA', 'score': 0.003006183775141835, 'wm_score': 0.420707, 'final': 0.12831642864259932}, {'fro': 'lady', 'to': 'doctor', 'type': 'AtLocation', 'score': 0.003974159248173237, 'wm_score': 0.41520187, 'final': 0.12734247247372127}, {'fro': 'lady', 'to': 'sex', 'type': 'HasA', 'score': 0.003433425910770893, 'wm_score': 0.35567406, 'final': 0.10910561613753963}, {'fro': 'lady', 'to': 'sex', 'type': 'AtLocation', 'score': 0.004171029198914766, 'wm_score': 0.35567406, 'final': 0.10962193843924035}, {'fro': 'lady', 'to': 'door', 'type': 'AtLocation', 'score': 0.004374227952212095, 'wm_score': 0.37300998, 'final': 0.11496495356654848}, {'fro': 'lady', 'to': 'bed', 'type': 'HasA', 'score': 0.005897690076380968, 'wm_score': 0.33664414, 'final': 0.10512162505346669}, {'fro': 'lady', 'to': 'dress', 'type': 'HasA', 'score': 0.007740122266113758, 'wm_score': 0.40138456, 'final': 0.12583345358627965}, {'fro': 'lady', 'to': 'horse', 'type': 'HasA', 'score': 0.0041615585796535015, 'wm_score': 0.41848874, 'final': 0.12845971300575748}, {'fro': 'lady', 'to': 'occasion', 'type': 'AtLocation', 'score': 0.006073095835745335, 'wm_score': 0.46425205, 'final': 0.14352678208502176}, {'fro': 'lady', 'to': 'chair', 'type': 'AtLocation', 'score': 0.01284050289541483, 'wm_score': 0.32247823, 'final': 0.10573182102679039}, {'fro': 'lady', 'to': 'nurse', 'type': 'AtLocation', 'score': 0.003853835631161928, 'wm_score': 0.41491464, 'final': 0.12717207694181337}, {'fro': 'lady', 'to': 'dance', 'type': 'AtLocation', 'score': 0.006870131473988295, 'wm_score': 0.34351555, 'final': 0.10786375703179182}, {'fro': 'lady', 'to': 'talk', 'type': 'AtLocation', 'score': 0.004497939255088568, 'wm_score': 0.3755582, 'final': 0.11581601747856202}, {'fro': 'lady', 'to': 'visit', 'type': 'AtLocation', 'score': 0.005906920414417982, 'wm_score': 0.41574705, 'final': 0.1288589592900926}, {'fro': 'lady', 'to': 'walk', 'type': 'AtLocation', 'score': 0.006175965070724487, 'wm_score': 0.32566196, 'final': 0.10202176354950715}, {'fro': 'lady', 'to': 'meet', 'type': 'AtLocation', 'score': 0.0037303396966308355, 'wm_score': 0.34291416, 'final': 0.1054854857876416}, {'fro': 'lady', 'to': 'sing', 'type': 'AtLocation', 'score': 0.004508034326136112, 'wm_score': 0.32848012, 'final': 0.1016996600282953}, {'fro': 'lady', 'to': 'wish', 'type': 'HasA', 'score': 0.005145740229636431, 'wm_score': 0.4148543, 'final': 0.12805830816074554}, {'fro': 'lady', 'to': 'march', 'type': 'AtLocation', 'score': 0.006099242251366377, 'wm_score': 0.32093555, 'final': 0.10055013457595648}, {'fro': 'lady', 'to': 'smile', 'type': 'HasA', 'score': 0.005710719618946314, 'wm_score': 0.3463996, 'final': 0.10791738373326243}];
    let relation_types = [{'label': 'RelatedTo', 'info': 'The most general relation. There is some positive relationship between A and B, but ConceptNet cant determine what that relationship is based on the data. This was called ConceptuallyRelatedTo in ConceptNet 2 through 4. Symmetric.', 'mask': ''}, {'label': 'FormOf', 'info': 'A is an inflected form of B; B is the root word of A.', 'mask': ''}, {'label': 'IsA', 'info': 'A is a subtype or a specific instance of B; every A is a B. This can include specific instances; the distinction between subtypes and instances is often blurry in language. This is the hyponym relation in WordNet.', 'mask': ''}, {'label': 'PartOf', 'info': 'A is a part of B. This is the part meronym relation in WordNet.', 'mask': ''}, {'label': 'HasA', 'info': 'B belongs to A, either as an inherent part or due to a social construct of possession. HasA is often the reverse of PartOf.', 'mask': 'The OBJECT1 has a OBJECT2'}, {'label': 'UsedFor', 'info': 'A is used for B; the purpose of A is B.', 'mask': ''}, {'label': 'CapableOf', 'info': 'Something that A can typically do is B.', 'mask': ''}, {'label': 'AtLocation', 'info': 'A is a typical location for B, or A is the inherent location of B. Some instances of this would be considered meronyms in WordNet.', 'mask': 'A OBJECT1 is in the OBJECT2'}, {'label': 'Causes', 'info': 'A and B are events, and it is typical for A to cause B.', 'mask': ''}, {'label': 'HasSubevent', 'info': 'A and B are events, and B happens as a subevent of A.', 'mask': ''}, {'label': 'HasFirstSubevent', 'info': 'A is an event that begins with subevent B.', 'mask': ''}, {'label': 'HasLastSubevent', 'info': 'A is an event that concludes with subevent B.', 'mask': ''}, {'label': 'HasPrerequisite', 'info': 'In order for A to happen, B needs to happen; B is a dependency of A.', 'mask': ''}, {'label': 'HasProperty', 'info': 'A has B as a property; A can be described as B.', 'mask': ''}, {'label': 'MotivatedByGoal', 'info': 'Someone does A because they want result B; A is a step toward accomplishing the goal B.', 'mask': ''}, {'label': 'ObstructedBy', 'info': 'A is a goal that can be prevented by B; B is an obstacle in the way of A.', 'mask': ''}, {'label': 'Desires', 'info': 'A is a conscious entity that typically wants B. Many assertions of this type use the appropriate languages word for person as A.', 'mask': ''}, {'label': 'CreatedBy', 'info': 'B is a process or agent that creates A.', 'mask': ''}, {'label': 'Synonym', 'info': 'A and B have very similar meanings. They may be translations of each other in different languages. This is the synonym relation in WordNet as well. Symmetric.', 'mask': ''}, {'label': 'Antonym', 'info': 'A and B are opposites in some relevant way, such as being opposite ends of a scale, or fundamentally similar things with a key difference between them. Counterintuitively, two concepts must be quite similar before people consider them antonyms. This is the antonym relation in WordNet as well. Symmetric.', 'mask': ''}, {'label': 'DistinctFrom', 'info': 'A and B are distinct member of a set; something that is A is not B. Symmetric.', 'mask': ''}, {'label': 'DerivedFrom', 'info': 'A is a word or phrase that appears within B and contributes to Bs meaning.', 'mask': ''}, {'label': 'SymbolOf', 'info': 'A symbolically represents B.', 'mask': ''}, {'label': 'DefinedAs', 'info': 'A and B overlap considerably in meaning, and B is a more explanatory version of A.', 'mask': ''}, {'label': 'MannerOf', 'info': 'A is a specific way to do B. Similar to IsA, but for verbs.', 'mask': ''}, {'label': 'LocatedNear', 'info': 'A and B are typically found near each other. Symmetric.', 'mask': ''}, {'label': 'HasContext', 'info': 'A is a word used in the context of B, which could be a topic area, technical field, or regional dialect.', 'mask': ''}, {'label': 'SimilarTo', 'info': 'A is similar to B. Symmetric.', 'mask': ''}, {'label': 'EtymologicallyRelatedTo', 'info': 'A and B have a common origin. Symmetric.', 'mask': ''}, {'label': 'EtymologicallyDerivedFrom', 'info': 'A is derived from B.', 'mask': ''}, {'label': 'CausesDesire', 'info': 'A makes someone want B.', 'mask': ''}, {'label': 'MadeOf', 'info': 'A is made of B.', 'mask': ''}, {'label': 'ReceivesAction', 'info': 'B can be done to A.', 'mask': ''}];

        function fillHTML(sortBy) {
        document.getElementById("relations").innerHTML = "";

        relation_types.forEach(r => {
            let frels_from = relations.filter(rel => rel.type === r.label && rel.fro === name);
            let title_from = r.mask.replace("OBJECT1", name).replace("OBJECT2", "...");
            generateList(r, sortBy, frels_from.map(frel => {
                return {label: frel.to, ...frel}
            }), title_from);
            let frels_to = relations.filter(rel => rel.type === r.label && rel.to === name);
            let title_to = r.mask.replace("OBJECT1", "...").replace("OBJECT2", name);
            generateList(r, sortBy, frels_to.map(frel => {
                return {label: frel.fro, ...frel}
            }), title_to);

        })
    }

    function generateList(r, sortBy, frels, title) {
        if (frels.length > 0) {
            frels = frels.sort(sortBy);
            let str = `<div class="rel-container"><h2>${title}</h2>`
            str += `<div class="rel-item caption"><a>Name</a>
                            <div class="scores">
                            <span  onclick="fillHTML(sortByBERT)">BERT</span>
                            <span onclick="fillHTML(sortByW2V)">W2V</span>
                            <span  onclick="fillHTML(sortByFinal)">Score</span></div></div>`
            str += "<div>" + frels.map(frel => {
                let score = parseFloat(frel.score).toFixed(3);
                let wm_score = parseFloat(frel.wm_score).toFixed(3);
                let interpolated_score = frel.final.toFixed(3);
                return `<div class="rel-item"><a href="${frel.label}.html">${frel.label}</a>
                            <div class="scores"><span>${score}</span>
                            <span>${wm_score}</span>
                            <span>${interpolated_score}</span></div></div>`
            }).join("\n") + " </div></div>"
            document.getElementById("relations").insertAdjacentHTML("beforeend", str)
        }
    }

    function sortByFinal(fr1, fr2) {
        return fr2.final - fr1.final;
    }

    function sortByBERT(fr1, fr2) {
        return fr2.score - fr1.score;
    }

    function sortByW2V(fr1, fr2) {
        return fr2.wm_score - fr1.wm_score;
    }

    fillHTML(sortByFinal)
</script>
</html>

