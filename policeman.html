<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>BertNet</title>
    <style>
         #relations {
             display: flex;
             flex-wrap: wrap;
         }

         .rel-container {
             width: fit-content;
             margin: 0 20px;
         }

         #title {
             text-transform: capitalize;
         }

         .rel-item, .scores {
             display: flex;
             justify-content: space-between;
         }

         .rel-item a {
             margin-right: 15px;
         }

         .scores span {
             width: 50px;
             text-align: center;
         }

         .caption {
             font-weight: bold;
         }

         .caption .scores {
             cursor: pointer;
         }
    </style>
</head>
<body>
<h1 id="title">policeman</h1>
<div id="relations"></div>
</body>
<script>
    let name = "policeman"
    let relations = [{'fro': 'policeman', 'to': 'area', 'type': 'AtLocation', 'score': 0.010961176827549934, 'wm_score': 0.30806327, 'final': 0.10009180477928496}, {'fro': 'policeman', 'to': 'army', 'type': 'AtLocation', 'score': 0.00545421801507473, 'wm_score': 0.48388892, 'final': 0.14898462861055234}, {'fro': 'policeman', 'to': 'apartment', 'type': 'AtLocation', 'score': 0.007132421713322401, 'wm_score': 0.39400554, 'final': 0.1231943571993257}, {'fro': 'policeman', 'to': 'office', 'type': 'AtLocation', 'score': 0.01274040061980486, 'wm_score': 0.31693056, 'final': 0.10399744843386341}, {'fro': 'policeman', 'to': 'scene', 'type': 'AtLocation', 'score': 0.066917285323143, 'wm_score': 0.52954435, 'final': 0.2057054047262001}, {'fro': 'policeman', 'to': 'death', 'type': 'AtLocation', 'score': 0.0051010786555707455, 'wm_score': 0.46828046, 'final': 0.14405489305889957}, {'fro': 'policeman', 'to': 'responsibility', 'type': 'AtLocation', 'score': 0.00719697680324316, 'wm_score': 0.37835968, 'final': 0.11854578776227022}, {'fro': 'policeman', 'to': 'situation', 'type': 'AtLocation', 'score': 0.07561831176280975, 'wm_score': 0.28483295, 'final': 0.13838270323396684}, {'fro': 'policeman', 'to': 'city', 'type': 'AtLocation', 'score': 0.015095331706106663, 'wm_score': 0.3914921, 'final': 0.1280143621942747}, {'fro': 'policeman', 'to': 'town', 'type': 'AtLocation', 'score': 0.011426146142184734, 'wm_score': 0.4131902, 'final': 0.13195536229952934}, {'fro': 'policeman', 'to': 'vehicle', 'type': 'AtLocation', 'score': 0.004527753684669733, 'wm_score': 0.41260386, 'final': 0.12695058557926883}, {'fro': 'policeman', 'to': 'accident', 'type': 'AtLocation', 'score': 0.02694707363843918, 'wm_score': 0.43528688, 'final': 0.14944901554690743}, {'fro': 'policeman', 'to': 'airport', 'type': 'AtLocation', 'score': 0.04093516618013382, 'wm_score': 0.33818573, 'final': 0.13011033532609367}, {'fro': 'policeman', 'to': 'hospital', 'type': 'AtLocation', 'score': 0.0038627537433058023, 'wm_score': 0.4315337, 'final': 0.1321640376203141}, {'fro': 'policeman', 'to': 'village', 'type': 'AtLocation', 'score': 0.029732434079051018, 'wm_score': 0.40797275, 'final': 0.14320452885533574}, {'fro': 'policeman', 'to': 'inspector', 'type': 'AtLocation', 'score': 0.0033648069947957993, 'wm_score': 0.38031372, 'final': 0.11644948089635708}, {'fro': 'policeman', 'to': 'passenger', 'type': 'AtLocation', 'score': 0.004458604846149683, 'wm_score': 0.3278361, 'final': 0.10147185339230479}, {'fro': 'policeman', 'to': 'force', 'type': 'AtLocation', 'score': 0.012155690230429173, 'wm_score': 0.31958315, 'final': 0.10438392816130042}, {'fro': 'policeman', 'to': 'car', 'type': 'AtLocation', 'score': 0.007571376394480467, 'wm_score': 0.46877503, 'final': 0.14593247247613633}, {'fro': 'policeman', 'to': 'outside', 'type': 'AtLocation', 'score': 0.011604017578065395, 'wm_score': 0.4089344, 'final': 0.1308031323046458}, {'fro': 'policeman', 'to': 'bus', 'type': 'AtLocation', 'score': 0.003852441906929016, 'wm_score': 0.49469385, 'final': 0.15110486433485032}, {'fro': 'policeman', 'to': 'condition', 'type': 'AtLocation', 'score': 0.004515843000262976, 'wm_score': 0.41250885, 'final': 0.1269137451001841}, {'fro': 'policeman', 'to': 'capital', 'type': 'AtLocation', 'score': 0.020265864208340645, 'wm_score': 0.29158193, 'final': 0.10166068394583846}, {'fro': 'policeman', 'to': 'shot', 'type': 'AtLocation', 'score': 0.003814594354480505, 'wm_score': 0.5921205, 'final': 0.1803063660481364}, {'fro': 'policeman', 'to': 'spot', 'type': 'AtLocation', 'score': 0.007798554375767708, 'wm_score': 0.31936276, 'final': 0.10126781606303742}, {'fro': 'policeman', 'to': 'traffic', 'type': 'AtLocation', 'score': 0.02435995638370514, 'wm_score': 0.34458795, 'final': 0.12042835446859361}, {'fro': 'policeman', 'to': 'street', 'type': 'AtLocation', 'score': 0.03410214185714722, 'wm_score': 0.34675002, 'final': 0.12789650530000307}, {'fro': 'policeman', 'to': 'duty', 'type': 'AtLocation', 'score': 0.03709404170513153, 'wm_score': 0.38707954, 'final': 0.1420896911935921}, {'fro': 'policeman', 'to': 'district', 'type': 'AtLocation', 'score': 0.030734173953533173, 'wm_score': 0.33110982, 'final': 0.12084686776747323}, {'fro': 'policeman', 'to': 'border', 'type': 'AtLocation', 'score': 0.004867840558290482, 'wm_score': 0.4315536, 'final': 0.13287356839080336}, {'fro': 'policeman', 'to': 'entrance', 'type': 'AtLocation', 'score': 0.03399726375937462, 'wm_score': 0.2614087, 'final': 0.10222069463156223}, {'fro': 'policeman', 'to': 'incident', 'type': 'AtLocation', 'score': 0.11106894910335541, 'wm_score': 0.5177994, 'final': 0.2330880843723488}, {'fro': 'policeman', 'to': 'station', 'type': 'AtLocation', 'score': 0.07749443501234055, 'wm_score': 0.28092995, 'final': 0.13852508950863837}, {'fro': 'policeman', 'to': 'witness', 'type': 'AtLocation', 'score': 0.009642736986279488, 'wm_score': 0.4933633, 'final': 0.15475890589039568}, {'fro': 'policeman', 'to': 'guard', 'type': 'AtLocation', 'score': 0.0046015107072889805, 'wm_score': 0.5091507, 'final': 0.1559662674951023}, {'fro': 'policeman', 'to': 'charge', 'type': 'AtLocation', 'score': 0.02261442504823208, 'wm_score': 0.38847333, 'final': 0.13237209653376247}, {'fro': 'policeman', 'to': 'stop', 'type': 'AtLocation', 'score': 0.00812672358006239, 'wm_score': 0.36003894, 'final': 0.11370038850604368}, {'fro': 'policeman', 'to': 'hit', 'type': 'AtLocation', 'score': 0.004753869492560625, 'wm_score': 0.37145928, 'final': 0.11476549264479245}, {'fro': 'policeman', 'to': 'attack', 'type': 'AtLocation', 'score': 0.04592595621943474, 'wm_score': 0.55253536, 'final': 0.19790877735360435}, {'fro': 'policeman', 'to': 'strip', 'type': 'AtLocation', 'score': 0.004728482570499182, 'wm_score': 0.33036137, 'final': 0.10241834879934944}, {'fro': 'policeman', 'to': 'escape', 'type': 'AtLocation', 'score': 0.005788991693407297, 'wm_score': 0.35965884, 'final': 0.11194994618538512}, {'fro': 'policeman', 'to': 'strike', 'type': 'AtLocation', 'score': 0.012237516231834888, 'wm_score': 0.31341895, 'final': 0.10259194636228443}, {'fro': 'policeman', 'to': 'hurt', 'type': 'AtLocation', 'score': 0.004805827047675848, 'wm_score': 0.402184, 'final': 0.12401927893337311}, {'fro': 'policeman', 'to': 'train', 'type': 'AtLocation', 'score': 0.002667596796527505, 'wm_score': 0.39896315, 'final': 0.12155626275756927}, {'fro': 'policeman', 'to': 'crash', 'type': 'AtLocation', 'score': 0.010039580054581165, 'wm_score': 0.3577441, 'final': 0.11435093603820684}, {'fro': 'policeman', 'to': 'drunk', 'type': 'AtLocation', 'score': 0.006559083238244057, 'wm_score': 0.5046289, 'final': 0.15598002826677088}, {'fro': 'policeman', 'to': 'streets', 'type': 'AtLocation', 'score': 0.013981064781546593, 'wm_score': 0.3797828, 'final': 0.12372158534708262}, {'fro': 'policeman', 'to': 'mafia', 'type': 'AtLocation', 'score': 0.005055651534348726, 'wm_score': 0.36008623, 'final': 0.11156482507404414}, {'fro': 'city', 'to': 'policeman', 'type': 'HasA', 'score': 0.034527815878391266, 'wm_score': 0.3914921, 'final': 0.1416171011148739}, {'fro': 'nypd', 'to': 'policeman', 'type': 'HasA', 'score': 0.03179926425218582, 'wm_score': 0.33493328, 'final': 0.12273946897653008}, {'fro': 'airport', 'to': 'policeman', 'type': 'HasA', 'score': 0.011891369707882404, 'wm_score': 0.33818573, 'final': 0.1097796777955177}, {'fro': 'town', 'to': 'policeman', 'type': 'HasA', 'score': 0.011362191289663315, 'wm_score': 0.4131902, 'final': 0.13191059390276433}, {'fro': 'mayor', 'to': 'policeman', 'type': 'HasA', 'score': 0.008733179420232773, 'wm_score': 0.36360008, 'final': 0.11519324959416295}, {'fro': 'village', 'to': 'policeman', 'type': 'HasA', 'score': 0.008158450946211815, 'wm_score': 0.40797275, 'final': 0.12810274066234828}, {'fro': 'lapd', 'to': 'policeman', 'type': 'HasA', 'score': 0.008102492429316044, 'wm_score': 0.3619802, 'final': 0.11426580470052124}, {'fro': 'district', 'to': 'policeman', 'type': 'HasA', 'score': 0.007650011219084263, 'wm_score': 0.33110982, 'final': 0.10468795385335901}, {'fro': 'army', 'to': 'policeman', 'type': 'HasA', 'score': 0.005343207623809576, 'wm_score': 0.48388892, 'final': 0.14890692133666672}, {'fro': 'province', 'to': 'policeman', 'type': 'HasA', 'score': 0.004553129430860281, 'wm_score': 0.34141928, 'final': 0.1056129746016022}, {'fro': 'police', 'to': 'policeman', 'type': 'HasA', 'score': 0.0042694080621004105, 'wm_score': 0.7318914, 'final': 0.2225560056434703}, {'fro': 'hospital', 'to': 'policeman', 'type': 'HasA', 'score': 0.0038027914706617594, 'wm_score': 0.4315337, 'final': 0.13212206402946325}, {'fro': 'policeman', 'to': 'gun', 'type': 'HasA', 'score': 0.13642257452011108, 'wm_score': 0.4461369, 'final': 0.22933687216407778}, {'fro': 'policeman', 'to': 'weapon', 'type': 'HasA', 'score': 0.04237749055027962, 'wm_score': 0.33529085, 'final': 0.13025149838519573}, {'fro': 'policeman', 'to': 'knife', 'type': 'HasA', 'score': 0.027997473254799843, 'wm_score': 0.420566, 'final': 0.1457680312783599}, {'fro': 'policeman', 'to': 'firearm', 'type': 'HasA', 'score': 0.013244658708572388, 'wm_score': 0.30375683, 'final': 0.10039831009600067}, {'fro': 'policeman', 'to': 'pistol', 'type': 'HasA', 'score': 0.012392917647957802, 'wm_score': 0.3928563, 'final': 0.1265319323535705}, {'fro': 'policeman', 'to': 'rifle', 'type': 'HasA', 'score': 0.010281587950885296, 'wm_score': 0.37137365, 'final': 0.11860920656561973}, {'fro': 'policeman', 'to': 'lawyer', 'type': 'HasA', 'score': 0.009996868669986725, 'wm_score': 0.38625586, 'final': 0.12287456606899073}, {'fro': 'policeman', 'to': 'girlfriend', 'type': 'HasA', 'score': 0.008385827764868736, 'wm_score': 0.45340753, 'final': 0.14189233843540816}, {'fro': 'policeman', 'to': 'motive', 'type': 'HasA', 'score': 0.007039151154458523, 'wm_score': 0.3341273, 'final': 0.10516559580812099}, {'fro': 'policeman', 'to': 'shotgun', 'type': 'HasA', 'score': 0.004960527177900076, 'wm_score': 0.33431202, 'final': 0.10376597502453005}, {'fro': 'bullet', 'to': 'policeman', 'type': 'AtLocation', 'score': 0.08853810280561447, 'wm_score': 0.49060234, 'final': 0.20915737396393014}, {'fro': 'knife', 'to': 'policeman', 'type': 'AtLocation', 'score': 0.029538676142692566, 'wm_score': 0.420566, 'final': 0.14684687329988483}, {'fro': 'tear', 'to': 'policeman', 'type': 'AtLocation', 'score': 0.020043635740876198, 'wm_score': 0.4072119, 'final': 0.13619411501861337}, {'fro': 'suspect', 'to': 'policeman', 'type': 'AtLocation', 'score': 0.018311671912670135, 'wm_score': 0.56624067, 'final': 0.18269037133886912}, {'fro': 'man', 'to': 'policeman', 'type': 'AtLocation', 'score': 0.014113021083176136, 'wm_score': 0.60809046, 'final': 0.1923062527582233}, {'fro': 'bomb', 'to': 'policeman', 'type': 'AtLocation', 'score': 0.00974660087376833, 'wm_score': 0.54502, 'final': 0.17032862061163784}, {'fro': 'child', 'to': 'policeman', 'type': 'AtLocation', 'score': 0.006923203356564045, 'wm_score': 0.3715601, 'final': 0.11631427234959485}, {'fro': 'grenade', 'to': 'policeman', 'type': 'AtLocation', 'score': 0.006319695618003607, 'wm_score': 0.57486516, 'final': 0.17688333493260255}, {'fro': 'gun', 'to': 'policeman', 'type': 'AtLocation', 'score': 0.006281270645558834, 'wm_score': 0.4461369, 'final': 0.1382379594518912}, {'fro': 'hand', 'to': 'policeman', 'type': 'AtLocation', 'score': 0.006006929092109203, 'wm_score': 0.37276885, 'final': 0.11603550536447646}, {'fro': 'woman', 'to': 'policeman', 'type': 'AtLocation', 'score': 0.005581198260188103, 'wm_score': 0.5653137, 'final': 0.1735009487821317}, {'fro': 'boy', 'to': 'policeman', 'type': 'AtLocation', 'score': 0.005519506521522999, 'wm_score': 0.5211642, 'final': 0.16021291456506612}, {'fro': 'sniper', 'to': 'policeman', 'type': 'AtLocation', 'score': 0.004911936819553375, 'wm_score': 0.56376004, 'final': 0.1725663677736874}, {'fro': 'girl', 'to': 'policeman', 'type': 'AtLocation', 'score': 0.00427217036485672, 'wm_score': 0.48944223, 'final': 0.14982318825539973}, {'fro': 'thief', 'to': 'policeman', 'type': 'AtLocation', 'score': 0.0035938862711191177, 'wm_score': 0.43206722, 'final': 0.13213588638978338}, {'fro': 'policeman', 'to': 'background', 'type': 'AtLocation', 'score': 0.06137062981724739, 'wm_score': 0.19879569, 'final': 0.10259814787207318}, {'fro': 'policeman', 'to': 'crowd', 'type': 'AtLocation', 'score': 0.016403524205088615, 'wm_score': 0.33134928, 'final': 0.11088725094356205}, {'fro': 'policeman', 'to': 'neighbourhood', 'type': 'AtLocation', 'score': 0.013707749545574188, 'wm_score': 0.3517273, 'final': 0.11511361468190195}, {'fro': 'policeman', 'to': 'ambulance', 'type': 'AtLocation', 'score': 0.01105074305087328, 'wm_score': 0.46414447, 'final': 0.14697886113561132}, {'fro': 'policeman', 'to': 'custody', 'type': 'AtLocation', 'score': 0.0059880041517317295, 'wm_score': 0.4751229, 'final': 0.14672847290621224}, {'fro': 'policeman', 'to': 'shooting', 'type': 'AtLocation', 'score': 0.004653666168451309, 'wm_score': 0.59066707, 'final': 0.18045768731791592}, {'fro': 'policeman', 'to': 'embassy', 'type': 'AtLocation', 'score': 0.015633923932909966, 'wm_score': 0.43512505, 'final': 0.141481261753037}, {'fro': 'policeman', 'to': 'helicopter', 'type': 'AtLocation', 'score': 0.010003956966102123, 'wm_score': 0.38859206, 'final': 0.12358038787627151}, {'fro': 'policeman', 'to': 'shooter', 'type': 'AtLocation', 'score': 0.005153695121407509, 'wm_score': 0.37845865, 'final': 0.11714518158498527}, {'fro': 'policeman', 'to': 'gunman', 'type': 'AtLocation', 'score': 0.0069752102717757225, 'wm_score': 0.69371974, 'final': 0.21299856919024304}, {'fro': 'policeman', 'to': 'neighborhood', 'type': 'AtLocation', 'score': 0.007024707738310099, 'wm_score': 0.4178346, 'final': 0.13026767541681708}];
    let relation_types = [{'label': 'RelatedTo', 'info': 'The most general relation. There is some positive relationship between A and B, but ConceptNet cant determine what that relationship is based on the data. This was called ConceptuallyRelatedTo in ConceptNet 2 through 4. Symmetric.', 'mask': ''}, {'label': 'FormOf', 'info': 'A is an inflected form of B; B is the root word of A.', 'mask': ''}, {'label': 'IsA', 'info': 'A is a subtype or a specific instance of B; every A is a B. This can include specific instances; the distinction between subtypes and instances is often blurry in language. This is the hyponym relation in WordNet.', 'mask': ''}, {'label': 'PartOf', 'info': 'A is a part of B. This is the part meronym relation in WordNet.', 'mask': ''}, {'label': 'HasA', 'info': 'B belongs to A, either as an inherent part or due to a social construct of possession. HasA is often the reverse of PartOf.', 'mask': 'The OBJECT1 has a OBJECT2'}, {'label': 'UsedFor', 'info': 'A is used for B; the purpose of A is B.', 'mask': ''}, {'label': 'CapableOf', 'info': 'Something that A can typically do is B.', 'mask': ''}, {'label': 'AtLocation', 'info': 'A is a typical location for B, or A is the inherent location of B. Some instances of this would be considered meronyms in WordNet.', 'mask': 'A OBJECT1 is in the OBJECT2'}, {'label': 'Causes', 'info': 'A and B are events, and it is typical for A to cause B.', 'mask': ''}, {'label': 'HasSubevent', 'info': 'A and B are events, and B happens as a subevent of A.', 'mask': ''}, {'label': 'HasFirstSubevent', 'info': 'A is an event that begins with subevent B.', 'mask': ''}, {'label': 'HasLastSubevent', 'info': 'A is an event that concludes with subevent B.', 'mask': ''}, {'label': 'HasPrerequisite', 'info': 'In order for A to happen, B needs to happen; B is a dependency of A.', 'mask': ''}, {'label': 'HasProperty', 'info': 'A has B as a property; A can be described as B.', 'mask': ''}, {'label': 'MotivatedByGoal', 'info': 'Someone does A because they want result B; A is a step toward accomplishing the goal B.', 'mask': ''}, {'label': 'ObstructedBy', 'info': 'A is a goal that can be prevented by B; B is an obstacle in the way of A.', 'mask': ''}, {'label': 'Desires', 'info': 'A is a conscious entity that typically wants B. Many assertions of this type use the appropriate languages word for person as A.', 'mask': ''}, {'label': 'CreatedBy', 'info': 'B is a process or agent that creates A.', 'mask': ''}, {'label': 'Synonym', 'info': 'A and B have very similar meanings. They may be translations of each other in different languages. This is the synonym relation in WordNet as well. Symmetric.', 'mask': ''}, {'label': 'Antonym', 'info': 'A and B are opposites in some relevant way, such as being opposite ends of a scale, or fundamentally similar things with a key difference between them. Counterintuitively, two concepts must be quite similar before people consider them antonyms. This is the antonym relation in WordNet as well. Symmetric.', 'mask': ''}, {'label': 'DistinctFrom', 'info': 'A and B are distinct member of a set; something that is A is not B. Symmetric.', 'mask': ''}, {'label': 'DerivedFrom', 'info': 'A is a word or phrase that appears within B and contributes to Bs meaning.', 'mask': ''}, {'label': 'SymbolOf', 'info': 'A symbolically represents B.', 'mask': ''}, {'label': 'DefinedAs', 'info': 'A and B overlap considerably in meaning, and B is a more explanatory version of A.', 'mask': ''}, {'label': 'MannerOf', 'info': 'A is a specific way to do B. Similar to IsA, but for verbs.', 'mask': ''}, {'label': 'LocatedNear', 'info': 'A and B are typically found near each other. Symmetric.', 'mask': ''}, {'label': 'HasContext', 'info': 'A is a word used in the context of B, which could be a topic area, technical field, or regional dialect.', 'mask': ''}, {'label': 'SimilarTo', 'info': 'A is similar to B. Symmetric.', 'mask': ''}, {'label': 'EtymologicallyRelatedTo', 'info': 'A and B have a common origin. Symmetric.', 'mask': ''}, {'label': 'EtymologicallyDerivedFrom', 'info': 'A is derived from B.', 'mask': ''}, {'label': 'CausesDesire', 'info': 'A makes someone want B.', 'mask': ''}, {'label': 'MadeOf', 'info': 'A is made of B.', 'mask': ''}, {'label': 'ReceivesAction', 'info': 'B can be done to A.', 'mask': ''}];

        function fillHTML(sortBy) {
        document.getElementById("relations").innerHTML = "";

        relation_types.forEach(r => {
            let frels_from = relations.filter(rel => rel.type === r.label && rel.fro === name);
            let title_from = r.mask.replace("OBJECT1", name).replace("OBJECT2", "...");
            generateList(r, sortBy, frels_from.map(frel => {
                return {label: frel.to, ...frel}
            }), title_from);
            let frels_to = relations.filter(rel => rel.type === r.label && rel.to === name);
            let title_to = r.mask.replace("OBJECT1", "...").replace("OBJECT2", name);
            generateList(r, sortBy, frels_to.map(frel => {
                return {label: frel.fro, ...frel}
            }), title_to);

        })
    }

    function generateList(r, sortBy, frels, title) {
        if (frels.length > 0) {
            frels = frels.sort(sortBy);
            let str = `<div class="rel-container"><h2>${title}</h2>`
            str += `<div class="rel-item caption"><a>Name</a>
                            <div class="scores">
                            <span  onclick="fillHTML(sortByBERT)">BERT</span>
                            <span onclick="fillHTML(sortByW2V)">W2V</span>
                            <span  onclick="fillHTML(sortByFinal)">Score</span></div></div>`
            str += "<div>" + frels.map(frel => {
                let score = parseFloat(frel.score).toFixed(3);
                let wm_score = parseFloat(frel.wm_score).toFixed(3);
                let interpolated_score = frel.final.toFixed(3);
                return `<div class="rel-item"><a href="${frel.label}.html">${frel.label}</a>
                            <div class="scores"><span>${score}</span>
                            <span>${wm_score}</span>
                            <span>${interpolated_score}</span></div></div>`
            }).join("\n") + " </div></div>"
            document.getElementById("relations").insertAdjacentHTML("beforeend", str)
        }
    }

    function sortByFinal(fr1, fr2) {
        return fr2.final - fr1.final;
    }

    function sortByBERT(fr1, fr2) {
        return fr2.score - fr1.score;
    }

    function sortByW2V(fr1, fr2) {
        return fr2.wm_score - fr1.wm_score;
    }

    fillHTML(sortByFinal)
</script>
</html>

