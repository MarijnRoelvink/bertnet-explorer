<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>BertNet</title>
    <style>
         #relations {
             display: flex;
             flex-wrap: wrap;
         }

         .rel-container {
             width: fit-content;
             margin: 0 20px;
         }

         #title {
             text-transform: capitalize;
         }

         .rel-item, .scores {
             display: flex;
             justify-content: space-between;
         }

         .rel-item a {
             margin-right: 15px;
         }

         .scores span {
             width: 50px;
             text-align: center;
         }

         .caption {
             font-weight: bold;
         }

         .caption .scores {
             cursor: pointer;
         }
    </style>
</head>
<body>
<h1 id="title">bike</h1>
<div id="relations"></div>
</body>
<script>
    let name = "bike"
    let relations = [{'fro': 'bike', 'to': 'safety', 'type': 'HasA', 'score': 0.004432267509400845, 'wm_score': 0.33852166, 'final': 0.1046590852565806}, {'fro': 'bike', 'to': 'engine', 'type': 'HasA', 'score': 0.015344406478106976, 'wm_score': 0.40904412, 'final': 0.1334543205346749}, {'fro': 'bike', 'to': 'maintenance', 'type': 'AtLocation', 'score': 0.004068257287144661, 'wm_score': 0.37369257, 'final': 0.11495555110100128}, {'fro': 'bike', 'to': 'dirt', 'type': 'AtLocation', 'score': 0.004021503962576389, 'wm_score': 0.5560563, 'final': 0.16963194277380347}, {'fro': 'bike', 'to': 'speed', 'type': 'HasA', 'score': 0.009594058617949486, 'wm_score': 0.53398937, 'final': 0.16691265203256467}, {'fro': 'bike', 'to': 'front', 'type': 'AtLocation', 'score': 0.00483622495085001, 'wm_score': 0.4384276, 'final': 0.13491363746559504}, {'fro': 'bike', 'to': 'track', 'type': 'AtLocation', 'score': 0.006686795502901077, 'wm_score': 0.5934258, 'final': 0.18270849685203078}, {'fro': 'bike', 'to': 'lock', 'type': 'AtLocation', 'score': 0.004797511734068394, 'wm_score': 0.3262064, 'final': 0.10122017821384789}, {'fro': 'bike', 'to': 'traffic', 'type': 'AtLocation', 'score': 0.01514215487986803, 'wm_score': 0.44990224, 'final': 0.14557018041590764}, {'fro': 'bike', 'to': 'gear', 'type': 'AtLocation', 'score': 0.003515624674037099, 'wm_score': 0.50366926, 'final': 0.153561715271826}, {'fro': 'bike', 'to': 'street', 'type': 'AtLocation', 'score': 0.021230854094028473, 'wm_score': 0.356505, 'final': 0.12181309786581995}, {'fro': 'bike', 'to': 'shop', 'type': 'AtLocation', 'score': 0.006295398343354464, 'wm_score': 0.45247006, 'final': 0.14014779684034814}, {'fro': 'bike', 'to': 'garage', 'type': 'AtLocation', 'score': 0.020766207948327065, 'wm_score': 0.5170128, 'final': 0.16964018556382898}, {'fro': 'bike', 'to': 'parking', 'type': 'AtLocation', 'score': 0.01669936813414097, 'wm_score': 0.547572, 'final': 0.1759611576938987}, {'fro': 'bike', 'to': 'wheel', 'type': 'HasA', 'score': 0.0063837552443146706, 'wm_score': 0.6397923, 'final': 0.1964063186710203}, {'fro': 'cyclist', 'to': 'bike', 'type': 'HasA', 'score': 0.03545268625020981, 'wm_score': 0.50621843, 'final': 0.1766824093751469}, {'fro': 'man', 'to': 'bike', 'type': 'HasA', 'score': 0.020418807864189148, 'wm_score': 0.3548815, 'final': 0.12075761550493241}, {'fro': 'boy', 'to': 'bike', 'type': 'HasA', 'score': 0.012510213069617748, 'wm_score': 0.32654405, 'final': 0.10672036414873243}, {'fro': 'rider', 'to': 'bike', 'type': 'HasA', 'score': 0.010028091259300709, 'wm_score': 0.5930917, 'final': 0.18494717388151052}, {'fro': 'driver', 'to': 'bike', 'type': 'HasA', 'score': 0.008942974731326103, 'wm_score': 0.5568537, 'final': 0.1733161923119283}, {'fro': 'dog', 'to': 'bike', 'type': 'HasA', 'score': 0.008791052736341953, 'wm_score': 0.47878957, 'final': 0.14979060791543938}, {'fro': 'kid', 'to': 'bike', 'type': 'HasA', 'score': 0.007059209980070591, 'wm_score': 0.3458827, 'final': 0.10870625698604942}, {'fro': 'dude', 'to': 'bike', 'type': 'HasA', 'score': 0.006844403222203255, 'wm_score': 0.3552775, 'final': 0.1113743322555423}, {'fro': 'thief', 'to': 'bike', 'type': 'HasA', 'score': 0.005472338292747736, 'wm_score': 0.33420324, 'final': 0.10409160880492344}, {'fro': 'world', 'to': 'bike', 'type': 'HasA', 'score': 0.0051785120740532875, 'wm_score': 0.36284843, 'final': 0.11247948745183732}, {'fro': 'horse', 'to': 'bike', 'type': 'HasA', 'score': 0.005100857932120562, 'wm_score': 0.66146255, 'final': 0.20200936555248442}, {'fro': 'cat', 'to': 'bike', 'type': 'HasA', 'score': 0.004909172188490629, 'wm_score': 0.3567042, 'final': 0.11044768053194347}, {'fro': 'passenger', 'to': 'bike', 'type': 'HasA', 'score': 0.0047254920937120914, 'wm_score': 0.44147268, 'final': 0.13574964846559848}, {'fro': 'elephant', 'to': 'bike', 'type': 'HasA', 'score': 0.004567066673189402, 'wm_score': 0.32833594, 'final': 0.10169772867123258}, {'fro': 'bike', 'to': 'camera', 'type': 'HasA', 'score': 0.01853911578655243, 'wm_score': 0.32176214, 'final': 0.10950602305058671}, {'fro': 'bike', 'to': 'hitch', 'type': 'HasA', 'score': 0.016827289015054703, 'wm_score': 0.43380666, 'final': 0.1419211003105383}, {'fro': 'bike', 'to': 'rack', 'type': 'HasA', 'score': 0.016505533829331398, 'wm_score': 0.3357693, 'final': 0.112284663680532}, {'fro': 'bike', 'to': 'helmet', 'type': 'HasA', 'score': 0.014893798157572746, 'wm_score': 0.43924257, 'final': 0.14219842971030094}, {'fro': 'bike', 'to': 'motor', 'type': 'HasA', 'score': 0.013750230893492699, 'wm_score': 0.5325154, 'final': 0.1693797816254449}, {'fro': 'bike', 'to': 'lock', 'type': 'HasA', 'score': 0.010100788436830044, 'wm_score': 0.3262064, 'final': 0.10493247190578105}, {'fro': 'bike', 'to': 'warranty', 'type': 'HasA', 'score': 0.007827222347259521, 'wm_score': 0.31547818, 'final': 0.10012250964308168}, {'fro': 'bike', 'to': 'seat', 'type': 'HasA', 'score': 0.007767725270241499, 'wm_score': 0.35385886, 'final': 0.11159506568916906}, {'fro': 'bike', 'to': 'roof', 'type': 'HasA', 'score': 0.006092720199376345, 'wm_score': 0.33410424, 'final': 0.10449617613956345}, {'fro': 'bike', 'to': 'rider', 'type': 'HasA', 'score': 0.005707865580916405, 'wm_score': 0.5930917, 'final': 0.18192301590664153}, {'fro': 'bike', 'to': 'saddle', 'type': 'HasA', 'score': 0.005309990607202053, 'wm_score': 0.52957726, 'final': 0.16259017142504148}, {'fro': 'bike', 'to': 'bump', 'type': 'HasA', 'score': 0.004418750759214163, 'wm_score': 0.32480115, 'final': 0.10053347053144993}, {'fro': 'bike', 'to': 'trailer', 'type': 'HasA', 'score': 0.004210458602756262, 'wm_score': 0.50387627, 'final': 0.1541102020219294}, {'fro': 'bike', 'to': 'tire', 'type': 'HasA', 'score': 0.0032060849480330944, 'wm_score': 0.47104347, 'final': 0.1435573004636232}, {'fro': 'rider', 'to': 'bike', 'type': 'AtLocation', 'score': 0.049020130187273026, 'wm_score': 0.5930917, 'final': 0.21224160113109114}, {'fro': 'helmet', 'to': 'bike', 'type': 'AtLocation', 'score': 0.027999049052596092, 'wm_score': 0.43924257, 'final': 0.15137210533681728}, {'fro': 'cyclist', 'to': 'bike', 'type': 'AtLocation', 'score': 0.02275846339762211, 'wm_score': 0.50621843, 'final': 0.16779645337833551}, {'fro': 'bicycle', 'to': 'bike', 'type': 'AtLocation', 'score': 0.017047544941306114, 'wm_score': 0.8968486, 'final': 0.2809878614589143}, {'fro': 'horse', 'to': 'bike', 'type': 'AtLocation', 'score': 0.01659156009554863, 'wm_score': 0.66146255, 'final': 0.21005285706688406}, {'fro': 'motorcycle', 'to': 'bike', 'type': 'AtLocation', 'score': 0.01152364257723093, 'wm_score': 0.72194874, 'final': 0.2246511718040617}, {'fro': 'tire', 'to': 'bike', 'type': 'AtLocation', 'score': 0.0071535008028149605, 'wm_score': 0.47104347, 'final': 0.1463204915619705}, {'fro': 'camera', 'to': 'bike', 'type': 'AtLocation', 'score': 0.006945110857486725, 'wm_score': 0.32176214, 'final': 0.10139021960024072}, {'fro': 'passenger', 'to': 'bike', 'type': 'AtLocation', 'score': 0.005777318961918354, 'wm_score': 0.44147268, 'final': 0.13648592727334288}, {'fro': 'pedal', 'to': 'bike', 'type': 'AtLocation', 'score': 0.005036510992795229, 'wm_score': 0.43257207, 'final': 0.13329717869495666}, {'fro': 'pony', 'to': 'bike', 'type': 'AtLocation', 'score': 0.0046092611737549305, 'wm_score': 0.5696663, 'final': 0.1741263728216285}, {'fro': 'man', 'to': 'bike', 'type': 'AtLocation', 'score': 0.004598530940711498, 'wm_score': 0.3548815, 'final': 0.10968342165849806}, {'fro': 'wheel', 'to': 'bike', 'type': 'AtLocation', 'score': 0.004584470298141241, 'wm_score': 0.6397923, 'final': 0.1951468192086989}, {'fro': 'saddle', 'to': 'bike', 'type': 'AtLocation', 'score': 0.004159409552812576, 'wm_score': 0.52957726, 'final': 0.16178476468696884}, {'fro': 'bullet', 'to': 'bike', 'type': 'AtLocation', 'score': 0.003977097570896149, 'wm_score': 0.37469637, 'final': 0.11519287929962732}, {'fro': 'dog', 'to': 'bike', 'type': 'AtLocation', 'score': 0.003969723824411631, 'wm_score': 0.47878957, 'final': 0.14641567767708816}, {'fro': 'cat', 'to': 'bike', 'type': 'AtLocation', 'score': 0.0034602757077664137, 'wm_score': 0.3567042, 'final': 0.10943345299543651}, {'fro': 'prototype', 'to': 'bike', 'type': 'AtLocation', 'score': 0.003387159900739789, 'wm_score': 0.3658117, 'final': 0.11211452193051787}, {'fro': 'bike', 'to': 'works', 'type': 'AtLocation', 'score': 0.09994953125715256, 'wm_score': 0.25855127, 'final': 0.1475300528800068}, {'fro': 'bike', 'to': 'air', 'type': 'AtLocation', 'score': 0.0878048986196518, 'wm_score': 0.21950097, 'final': 0.12731372003375627}, {'fro': 'bike', 'to': 'driveway', 'type': 'AtLocation', 'score': 0.034579139202833176, 'wm_score': 0.47543094, 'final': 0.16683467944198324}, {'fro': 'bike', 'to': 'saddle', 'type': 'AtLocation', 'score': 0.020860087126493454, 'wm_score': 0.52957726, 'final': 0.17347523898854544}, {'fro': 'bike', 'to': 'barn', 'type': 'AtLocation', 'score': 0.01440408080816269, 'wm_score': 0.4132154, 'final': 0.13404747656571392}, {'fro': 'bike', 'to': 'water', 'type': 'AtLocation', 'score': 0.013938245363533497, 'wm_score': 0.33083656, 'final': 0.10900773975447345}, {'fro': 'bike', 'to': 'woods', 'type': 'AtLocation', 'score': 0.012652114033699036, 'wm_score': 0.31228045, 'final': 0.10254061482358934}, {'fro': 'bike', 'to': 'road', 'type': 'AtLocation', 'score': 0.01233808882534504, 'wm_score': 0.5593953, 'final': 0.17645525217774158}, {'fro': 'bike', 'to': 'streets', 'type': 'AtLocation', 'score': 0.011775377206504345, 'wm_score': 0.36352146, 'final': 0.11729920204455306}, {'fro': 'bike', 'to': 'way', 'type': 'AtLocation', 'score': 0.011571366339921951, 'wm_score': 0.40156978, 'final': 0.1285708904379454}, {'fro': 'bike', 'to': 'yard', 'type': 'AtLocation', 'score': 0.011416243389248848, 'wm_score': 0.3613381, 'final': 0.11639280037247421}, {'fro': 'bike', 'to': 'garden', 'type': 'AtLocation', 'score': 0.010216214694082737, 'wm_score': 0.32013658, 'final': 0.10319232428585794}, {'fro': 'bike', 'to': 'trunk', 'type': 'AtLocation', 'score': 0.009554816409945488, 'wm_score': 0.48830274, 'final': 0.15317919348696185}, {'fro': 'bike', 'to': 'park', 'type': 'AtLocation', 'score': 0.009326404891908169, 'wm_score': 0.43295315, 'final': 0.13641442842433574}, {'fro': 'bike', 'to': 'distance', 'type': 'AtLocation', 'score': 0.00867739599198103, 'wm_score': 0.48602787, 'final': 0.15188253819438674}, {'fro': 'bike', 'to': 'trash', 'type': 'AtLocation', 'score': 0.006803616881370544, 'wm_score': 0.3312606, 'final': 0.1041407118169594}, {'fro': 'bike', 'to': 'sights', 'type': 'AtLocation', 'score': 0.006188841070979834, 'wm_score': 0.32212442, 'final': 0.1009695147496859}, {'fro': 'bike', 'to': 'car', 'type': 'AtLocation', 'score': 0.005407540127635002, 'wm_score': 0.6324706, 'final': 0.19352645808934454}, {'fro': 'bike', 'to': 'bend', 'type': 'AtLocation', 'score': 0.004810818005353212, 'wm_score': 0.35128984, 'final': 0.10875452460374727}, {'fro': 'bike', 'to': 'bicycle', 'type': 'AtLocation', 'score': 0.02658798359334469, 'wm_score': 0.8968486, 'final': 0.2876661685153413}, {'fro': 'bike', 'to': 'leather', 'type': 'HasA', 'score': 0.004700257442891598, 'wm_score': 0.35484177, 'final': 0.10974271121002413}, {'fro': 'bike', 'to': 'load', 'type': 'AtLocation', 'score': 0.004023699555546045, 'wm_score': 0.35569856, 'final': 0.10952615768888226}, {'fro': 'bike', 'to': 'lift', 'type': 'HasA', 'score': 0.003423754358664155, 'wm_score': 0.38116577, 'final': 0.11674635905106494}, {'fro': 'bike', 'to': 'lift', 'type': 'AtLocation', 'score': 0.008202388882637024, 'wm_score': 0.38116577, 'final': 0.12009140321784594}, {'fro': 'bike', 'to': 'stop', 'type': 'AtLocation', 'score': 0.005882334895431995, 'wm_score': 0.41617414, 'final': 0.12896987642680244}, {'fro': 'bike', 'to': 'finish', 'type': 'HasA', 'score': 0.01085085142403841, 'wm_score': 0.35521168, 'final': 0.11415909999682688}, {'fro': 'bike', 'to': 'finish', 'type': 'AtLocation', 'score': 0.004088306333869696, 'wm_score': 0.35521168, 'final': 0.10942531843370878}, {'fro': 'bike', 'to': 'ride', 'type': 'HasA', 'score': 0.007914279587566853, 'wm_score': 0.7795307, 'final': 0.23939920571129683}, {'fro': 'bike', 'to': 'ride', 'type': 'AtLocation', 'score': 0.006759202107787132, 'wm_score': 0.7795307, 'final': 0.23859065147545103}, {'fro': 'bike', 'to': 'repair', 'type': 'HasA', 'score': 0.005168748553842306, 'wm_score': 0.3670573, 'final': 0.11373531398768962}, {'fro': 'bike', 'to': 'repair', 'type': 'AtLocation', 'score': 0.003819757606834173, 'wm_score': 0.3670573, 'final': 0.11279102032478393}, {'fro': 'bike', 'to': 'hitch', 'type': 'AtLocation', 'score': 0.005277619697153568, 'wm_score': 0.43380666, 'final': 0.1338363317880075}, {'fro': 'bike', 'to': 'lot', 'type': 'AtLocation', 'score': 0.004437208641320467, 'wm_score': 0.39325362, 'final': 0.12108213204892435}];
    let relation_types = [{'label': 'RelatedTo', 'info': 'The most general relation. There is some positive relationship between A and B, but ConceptNet cant determine what that relationship is based on the data. This was called ConceptuallyRelatedTo in ConceptNet 2 through 4. Symmetric.', 'mask': ''}, {'label': 'FormOf', 'info': 'A is an inflected form of B; B is the root word of A.', 'mask': ''}, {'label': 'IsA', 'info': 'A is a subtype or a specific instance of B; every A is a B. This can include specific instances; the distinction between subtypes and instances is often blurry in language. This is the hyponym relation in WordNet.', 'mask': ''}, {'label': 'PartOf', 'info': 'A is a part of B. This is the part meronym relation in WordNet.', 'mask': ''}, {'label': 'HasA', 'info': 'B belongs to A, either as an inherent part or due to a social construct of possession. HasA is often the reverse of PartOf.', 'mask': 'The OBJECT1 has a OBJECT2'}, {'label': 'UsedFor', 'info': 'A is used for B; the purpose of A is B.', 'mask': ''}, {'label': 'CapableOf', 'info': 'Something that A can typically do is B.', 'mask': ''}, {'label': 'AtLocation', 'info': 'A is a typical location for B, or A is the inherent location of B. Some instances of this would be considered meronyms in WordNet.', 'mask': 'A OBJECT1 is in the OBJECT2'}, {'label': 'Causes', 'info': 'A and B are events, and it is typical for A to cause B.', 'mask': ''}, {'label': 'HasSubevent', 'info': 'A and B are events, and B happens as a subevent of A.', 'mask': ''}, {'label': 'HasFirstSubevent', 'info': 'A is an event that begins with subevent B.', 'mask': ''}, {'label': 'HasLastSubevent', 'info': 'A is an event that concludes with subevent B.', 'mask': ''}, {'label': 'HasPrerequisite', 'info': 'In order for A to happen, B needs to happen; B is a dependency of A.', 'mask': ''}, {'label': 'HasProperty', 'info': 'A has B as a property; A can be described as B.', 'mask': ''}, {'label': 'MotivatedByGoal', 'info': 'Someone does A because they want result B; A is a step toward accomplishing the goal B.', 'mask': ''}, {'label': 'ObstructedBy', 'info': 'A is a goal that can be prevented by B; B is an obstacle in the way of A.', 'mask': ''}, {'label': 'Desires', 'info': 'A is a conscious entity that typically wants B. Many assertions of this type use the appropriate languages word for person as A.', 'mask': ''}, {'label': 'CreatedBy', 'info': 'B is a process or agent that creates A.', 'mask': ''}, {'label': 'Synonym', 'info': 'A and B have very similar meanings. They may be translations of each other in different languages. This is the synonym relation in WordNet as well. Symmetric.', 'mask': ''}, {'label': 'Antonym', 'info': 'A and B are opposites in some relevant way, such as being opposite ends of a scale, or fundamentally similar things with a key difference between them. Counterintuitively, two concepts must be quite similar before people consider them antonyms. This is the antonym relation in WordNet as well. Symmetric.', 'mask': ''}, {'label': 'DistinctFrom', 'info': 'A and B are distinct member of a set; something that is A is not B. Symmetric.', 'mask': ''}, {'label': 'DerivedFrom', 'info': 'A is a word or phrase that appears within B and contributes to Bs meaning.', 'mask': ''}, {'label': 'SymbolOf', 'info': 'A symbolically represents B.', 'mask': ''}, {'label': 'DefinedAs', 'info': 'A and B overlap considerably in meaning, and B is a more explanatory version of A.', 'mask': ''}, {'label': 'MannerOf', 'info': 'A is a specific way to do B. Similar to IsA, but for verbs.', 'mask': ''}, {'label': 'LocatedNear', 'info': 'A and B are typically found near each other. Symmetric.', 'mask': ''}, {'label': 'HasContext', 'info': 'A is a word used in the context of B, which could be a topic area, technical field, or regional dialect.', 'mask': ''}, {'label': 'SimilarTo', 'info': 'A is similar to B. Symmetric.', 'mask': ''}, {'label': 'EtymologicallyRelatedTo', 'info': 'A and B have a common origin. Symmetric.', 'mask': ''}, {'label': 'EtymologicallyDerivedFrom', 'info': 'A is derived from B.', 'mask': ''}, {'label': 'CausesDesire', 'info': 'A makes someone want B.', 'mask': ''}, {'label': 'MadeOf', 'info': 'A is made of B.', 'mask': ''}, {'label': 'ReceivesAction', 'info': 'B can be done to A.', 'mask': ''}];

        function fillHTML(sortBy) {
        document.getElementById("relations").innerHTML = "";

        relation_types.forEach(r => {
            let frels_from = relations.filter(rel => rel.type === r.label && rel.fro === name);
            let title_from = r.mask.replace("OBJECT1", name).replace("OBJECT2", "...");
            generateList(r, sortBy, frels_from.map(frel => {
                return {label: frel.to, ...frel}
            }), title_from);
            let frels_to = relations.filter(rel => rel.type === r.label && rel.to === name);
            let title_to = r.mask.replace("OBJECT1", "...").replace("OBJECT2", name);
            generateList(r, sortBy, frels_to.map(frel => {
                return {label: frel.fro, ...frel}
            }), title_to);

        })
    }

    function generateList(r, sortBy, frels, title) {
        if (frels.length > 0) {
            frels = frels.sort(sortBy);
            let str = `<div class="rel-container"><h2>${title}</h2>`
            str += `<div class="rel-item caption"><a>Name</a>
                            <div class="scores">
                            <span  onclick="fillHTML(sortByBERT)">BERT</span>
                            <span onclick="fillHTML(sortByW2V)">W2V</span>
                            <span  onclick="fillHTML(sortByFinal)">Score</span></div></div>`
            str += "<div>" + frels.map(frel => {
                let score = parseFloat(frel.score).toFixed(3);
                let wm_score = parseFloat(frel.wm_score).toFixed(3);
                let interpolated_score = frel.final.toFixed(3);
                return `<div class="rel-item"><a href="${frel.label}.html">${frel.label}</a>
                            <div class="scores"><span>${score}</span>
                            <span>${wm_score}</span>
                            <span>${interpolated_score}</span></div></div>`
            }).join("\n") + " </div></div>"
            document.getElementById("relations").insertAdjacentHTML("beforeend", str)
        }
    }

    function sortByFinal(fr1, fr2) {
        return fr2.final - fr1.final;
    }

    function sortByBERT(fr1, fr2) {
        return fr2.score - fr1.score;
    }

    function sortByW2V(fr1, fr2) {
        return fr2.wm_score - fr1.wm_score;
    }

    fillHTML(sortByFinal)
</script>
</html>

