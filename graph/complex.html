<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>BertNet</title>
    <style>
         #relations {
             display: flex;
             flex-wrap: wrap;
         }

         .rel-container {
             width: fit-content;
             margin: 0 20px;
         }

         #title {
             text-transform: capitalize;
         }

         .rel-item, .scores {
             display: flex;
             justify-content: space-between;
         }

         .rel-item a {
             margin-right: 15px;
         }

         .scores span {
             width: 50px;
             text-align: center;
         }

         .caption {
             font-weight: bold;
         }

         .caption .scores {
             cursor: pointer;
         }
    </style>
</head>
<body>
<h1 id="title">complex</h1>
<div id="relations"></div>
</body>
<script>
    let name = "complex"
    let relations = [{'fro': 'meaning', 'to': 'complex', 'type': 'HasA', 'score': 0.003384710755199194, 'wm_score': 0.4396822, 'final': 0.13427395752863946}, {'fro': 'situation', 'to': 'complex', 'type': 'HasA', 'score': 0.007220130879431963, 'wm_score': 0.4820553, 'final': 0.1496706816156024}, {'fro': 'topic', 'to': 'complex', 'type': 'HasA', 'score': 0.003919101785868406, 'wm_score': 0.33769354, 'final': 0.1040514332501079}, {'fro': 'complex', 'to': 'construction', 'type': 'HasA', 'score': 0.004737569484859705, 'wm_score': 0.6088372, 'final': 0.1859674586394018}, {'fro': 'operation', 'to': 'complex', 'type': 'HasA', 'score': 0.005200522486120462, 'wm_score': 0.4381058, 'final': 0.13507210574028433}, {'fro': 'relation', 'to': 'complex', 'type': 'HasA', 'score': 0.007520073559135199, 'wm_score': 0.49491706, 'final': 0.15373916949139466}, {'fro': 'matter', 'to': 'complex', 'type': 'HasA', 'score': 0.00846835970878601, 'wm_score': 0.5302948, 'final': 0.1650162917961502}, {'fro': 'cause', 'to': 'complex', 'type': 'HasA', 'score': 0.005961304064840078, 'wm_score': 0.34516996, 'final': 0.10772390084538806}, {'fro': 'issue', 'to': 'complex', 'type': 'HasA', 'score': 0.004459867719560862, 'wm_score': 0.40701193, 'final': 0.12522548640369263}, {'fro': 'view', 'to': 'complex', 'type': 'HasA', 'score': 0.0030040303245186806, 'wm_score': 0.50392133, 'final': 0.1532792202271631}, {'fro': 'complex', 'to': 'entrance', 'type': 'HasA', 'score': 0.005843828432261944, 'wm_score': 0.44662684, 'final': 0.13807873190258338}, {'fro': 'internet', 'to': 'complex', 'type': 'HasA', 'score': 0.031232925131917, 'wm_score': 0.34893632, 'final': 0.12654394359234192}, {'fro': 'universe', 'to': 'complex', 'type': 'HasA', 'score': 0.015903078019618988, 'wm_score': 0.3238232, 'final': 0.1082791146137333}, {'fro': 'world', 'to': 'complex', 'type': 'HasA', 'score': 0.012076810002326965, 'wm_score': 0.4275691, 'final': 0.13672449700162886}, {'fro': 'web', 'to': 'complex', 'type': 'HasA', 'score': 0.011198095045983791, 'wm_score': 0.38382626, 'final': 0.12298654453218866}, {'fro': 'game', 'to': 'complex', 'type': 'HasA', 'score': 0.0100585101172328, 'wm_score': 0.38544875, 'final': 0.12267558208206297}, {'fro': 'problem', 'to': 'complex', 'type': 'HasA', 'score': 0.008562971837818623, 'wm_score': 0.5403335, 'final': 0.16809413028647305}, {'fro': 'future', 'to': 'complex', 'type': 'HasA', 'score': 0.007460236549377441, 'wm_score': 0.4345781, 'final': 0.13559559558456422}, {'fro': 'brain', 'to': 'complex', 'type': 'HasA', 'score': 0.0063318125903606415, 'wm_score': 0.3596856, 'final': 0.11233794881325247}, {'fro': 'matrix', 'to': 'complex', 'type': 'HasA', 'score': 0.005447765346616507, 'wm_score': 0.35800967, 'final': 0.11121633674263158}, {'fro': 'city', 'to': 'complex', 'type': 'HasA', 'score': 0.004720514640212059, 'wm_score': 0.51128685, 'final': 0.15669041524814847}, {'fro': 'system', 'to': 'complex', 'type': 'HasA', 'score': 0.004693240858614445, 'wm_score': 0.53516215, 'final': 0.16383391360103014}, {'fro': 'story', 'to': 'complex', 'type': 'HasA', 'score': 0.004122699145227671, 'wm_score': 0.4897377, 'final': 0.1498071994016594}, {'fro': 'answer', 'to': 'complex', 'type': 'HasA', 'score': 0.0035114847123622894, 'wm_score': 0.34707353, 'final': 0.10658009829865361}, {'fro': 'law', 'to': 'complex', 'type': 'HasA', 'score': 0.0029675690457224846, 'wm_score': 0.37260336, 'final': 0.11385830633200575}, {'fro': 'military', 'to': 'complex', 'type': 'HasA', 'score': 0.0029267133213579655, 'wm_score': 0.4436485, 'final': 0.13514324932495062}, {'fro': 'us', 'to': 'complex', 'type': 'HasA', 'score': 0.00292428326793015, 'wm_score': 0.336134, 'final': 0.10288719828755111}, {'fro': 'complex', 'to': 'staircase', 'type': 'HasA', 'score': 0.0752115324139595, 'wm_score': 0.33613592, 'final': 0.15348884868977164}, {'fro': 'complex', 'to': 'courtyard', 'type': 'HasA', 'score': 0.06120354309678078, 'wm_score': 0.47845495, 'final': 0.18637896516774655}, {'fro': 'complex', 'to': 'basement', 'type': 'HasA', 'score': 0.0468788780272007, 'wm_score': 0.42604482, 'final': 0.16062866061904052}, {'fro': 'complex', 'to': 'lobby', 'type': 'HasA', 'score': 0.02686241827905178, 'wm_score': 0.3495584, 'final': 0.12367121279533627}, {'fro': 'complex', 'to': 'roof', 'type': 'HasA', 'score': 0.025892432779073715, 'wm_score': 0.36705795, 'final': 0.12824208794535163}, {'fro': 'complex', 'to': 'facade', 'type': 'HasA', 'score': 0.01675288937985897, 'wm_score': 0.3865458, 'final': 0.12769076256590128}, {'fro': 'complex', 'to': 'cafeteria', 'type': 'HasA', 'score': 0.012883961200714111, 'wm_score': 0.30647728, 'final': 0.1009619568404999}, {'fro': 'complex', 'to': 'plaza', 'type': 'HasA', 'score': 0.012566699646413326, 'wm_score': 0.40411007, 'final': 0.13002971075248934}, {'fro': 'complex', 'to': 'museum', 'type': 'HasA', 'score': 0.012487777508795261, 'wm_score': 0.4664005, 'final': 0.14866159425615671}, {'fro': 'complex', 'to': 'tunnel', 'type': 'HasA', 'score': 0.012071638368070126, 'wm_score': 0.42710957, 'final': 0.1365830178576491}, {'fro': 'complex', 'to': 'library', 'type': 'HasA', 'score': 0.010374515317380428, 'wm_score': 0.42637855, 'final': 0.13517572572216632}, {'fro': 'complex', 'to': 'warehouse', 'type': 'HasA', 'score': 0.0099733155220747, 'wm_score': 0.43869248, 'final': 0.1385890648654523}, {'fro': 'complex', 'to': 'dome', 'type': 'HasA', 'score': 0.00840962678194046, 'wm_score': 0.38003123, 'final': 0.11989610774735833}, {'fro': 'complex', 'to': 'garden', 'type': 'HasA', 'score': 0.008012515492737293, 'wm_score': 0.46512783, 'final': 0.14514710984491613}, {'fro': 'complex', 'to': 'garage', 'type': 'HasA', 'score': 0.00790915172547102, 'wm_score': 0.40551594, 'final': 0.12719118820782974}, {'fro': 'complex', 'to': 'casino', 'type': 'HasA', 'score': 0.007907469756901264, 'wm_score': 0.37499306, 'final': 0.1180331468298309}, {'fro': 'complex', 'to': 'gallery', 'type': 'HasA', 'score': 0.007089481223374605, 'wm_score': 0.33757663, 'final': 0.10623562585636223}, {'fro': 'complex', 'to': 'gym', 'type': 'HasA', 'score': 0.006128966808319092, 'wm_score': 0.34247094, 'final': 0.10703155876582338}, {'fro': 'complex', 'to': 'kitchen', 'type': 'HasA', 'score': 0.005862926132977009, 'wm_score': 0.3422257, 'final': 0.10677175829308393}, {'fro': 'complex', 'to': 'playground', 'type': 'HasA', 'score': 0.005753168836236, 'wm_score': 0.40821597, 'final': 0.1264920091853652}, {'fro': 'complex', 'to': 'lot', 'type': 'HasA', 'score': 0.005490910727530718, 'wm_score': 0.47605664, 'final': 0.1466606295092715}, {'fro': 'complex', 'to': 'cemetery', 'type': 'HasA', 'score': 0.0050092581659555435, 'wm_score': 0.36614117, 'final': 0.1133488317161689}, {'fro': 'complex', 'to': 'pool', 'type': 'HasA', 'score': 0.004814081825315952, 'wm_score': 0.43940187, 'final': 0.13519041827772119}, {'fro': 'staircase', 'to': 'complex', 'type': 'AtLocation', 'score': 0.05389555171132088, 'wm_score': 0.33613592, 'final': 0.1385676621979246}, {'fro': 'tree', 'to': 'complex', 'type': 'AtLocation', 'score': 0.01232000719755888, 'wm_score': 0.33374164, 'final': 0.10874649703829123}, {'fro': 'building', 'to': 'complex', 'type': 'AtLocation', 'score': 0.009769704192876816, 'wm_score': 0.6816376, 'final': 0.2113300729350138}, {'fro': 'house', 'to': 'complex', 'type': 'AtLocation', 'score': 0.0073766340501606464, 'wm_score': 0.4406755, 'final': 0.13736629383511248}, {'fro': 'tunnel', 'to': 'complex', 'type': 'AtLocation', 'score': 0.005400403402745724, 'wm_score': 0.42710957, 'final': 0.13191315338192203}, {'fro': 'car', 'to': 'complex', 'type': 'AtLocation', 'score': 0.005305413622409105, 'wm_score': 0.34001014, 'final': 0.1057168315356864}, {'fro': 'bomb', 'to': 'complex', 'type': 'AtLocation', 'score': 0.005149377044290304, 'wm_score': 0.40479302, 'final': 0.12504246993100324}, {'fro': 'cave', 'to': 'complex', 'type': 'AtLocation', 'score': 0.005105481017380953, 'wm_score': 0.39455414, 'final': 0.12194007871216668}, {'fro': 'wall', 'to': 'complex', 'type': 'AtLocation', 'score': 0.004720735363662243, 'wm_score': 0.41009885, 'final': 0.1263341697545636}, {'fro': 'tower', 'to': 'complex', 'type': 'AtLocation', 'score': 0.0043321638368070126, 'wm_score': 0.4819352, 'final': 0.14761307468576493}, {'fro': 'fire', 'to': 'complex', 'type': 'AtLocation', 'score': 0.004159543197602034, 'wm_score': 0.39808986, 'final': 0.12233863823832145}, {'fro': 'pyramid', 'to': 'complex', 'type': 'AtLocation', 'score': 0.003987282048910856, 'wm_score': 0.401317, 'final': 0.1231861974342376}, {'fro': 'complex', 'to': 'works', 'type': 'AtLocation', 'score': 0.3731835186481476, 'wm_score': 0.4980806, 'final': 0.4106526430537033}, {'fro': 'complex', 'to': 'foreground', 'type': 'AtLocation', 'score': 0.17375992238521576, 'wm_score': 0.1855703, 'final': 0.17730303566965103}, {'fro': 'complex', 'to': 'background', 'type': 'AtLocation', 'score': 0.05217228829860687, 'wm_score': 0.36849666, 'final': 0.14706959980902481}, {'fro': 'complex', 'to': 'pipeline', 'type': 'AtLocation', 'score': 0.03314027935266495, 'wm_score': 0.3724759, 'final': 0.13494096554686547}, {'fro': 'complex', 'to': 'air', 'type': 'AtLocation', 'score': 0.032303132116794586, 'wm_score': 0.33315468, 'final': 0.12255859648175621}, {'fro': 'complex', 'to': 'distance', 'type': 'AtLocation', 'score': 0.017968276515603065, 'wm_score': 0.39140573, 'final': 0.12999951256092218}, {'fro': 'complex', 'to': 'making', 'type': 'AtLocation', 'score': 0.01796027459204197, 'wm_score': 0.5000028, 'final': 0.1625730322144294}, {'fro': 'complex', 'to': 'way', 'type': 'AtLocation', 'score': 0.013493150472640991, 'wm_score': 0.5249548, 'final': 0.16693164533084873}, {'fro': 'complex', 'to': 'picture', 'type': 'AtLocation', 'score': 0.007806198205798864, 'wm_score': 0.33360118, 'final': 0.10554469274405921}, {'fro': 'complex', 'to': 'ground', 'type': 'AtLocation', 'score': 0.007196792867034674, 'wm_score': 0.52839136, 'final': 0.1635551630069243}, {'fro': 'complex', 'to': 'vicinity', 'type': 'AtLocation', 'score': 0.006535603664815426, 'wm_score': 0.41460317, 'final': 0.12895587356537083}, {'fro': 'complex', 'to': 'neighbourhood', 'type': 'AtLocation', 'score': 0.006534744054079056, 'wm_score': 0.42039818, 'final': 0.13069377483785535}, {'fro': 'complex', 'to': 'process', 'type': 'AtLocation', 'score': 0.006404398009181023, 'wm_score': 0.5057574, 'final': 0.15621029860642674}, {'fro': 'complex', 'to': 'water', 'type': 'AtLocation', 'score': 0.0063203684985637665, 'wm_score': 0.40258187, 'final': 0.12519881894899465}, {'fro': 'complex', 'to': 'open', 'type': 'AtLocation', 'score': 0.0062406184151768684, 'wm_score': 0.43151337, 'final': 0.1338224438906238}, {'fro': 'complex', 'to': 'middle', 'type': 'AtLocation', 'score': 0.005823956802487373, 'wm_score': 0.44015196, 'final': 0.13612235776174117}, {'fro': 'complex', 'to': 'future', 'type': 'AtLocation', 'score': 0.0042146071791648865, 'wm_score': 0.4345781, 'final': 0.13332365502541543}, {'fro': 'complex', 'to': 'ruins', 'type': 'AtLocation', 'score': 0.0032682649325579405, 'wm_score': 0.39497325, 'final': 0.12077976045279057}, {'fro': 'complex', 'to': 'basement', 'type': 'AtLocation', 'score': 0.0032299018930643797, 'wm_score': 0.42604482, 'final': 0.1300743773251451}, {'fro': 'complex', 'to': 'balance', 'type': 'AtLocation', 'score': 0.003159257583320141, 'wm_score': 0.39935675, 'final': 0.12201850530832412}, {'fro': 'complex', 'to': 'mix', 'type': 'AtLocation', 'score': 0.002882228931412101, 'wm_score': 0.4247892, 'final': 0.12945432025198847}, {'fro': 'complex', 'to': 'neighborhood', 'type': 'AtLocation', 'score': 0.0024840112309902906, 'wm_score': 0.5005802, 'final': 0.15191286786169322}, {'fro': 'complex', 'to': 'garden', 'type': 'AtLocation', 'score': 0.002286321483552456, 'wm_score': 0.46512783, 'final': 0.14113877403848676}, {'fro': 'complex', 'to': 'park', 'type': 'AtLocation', 'score': 0.0021173933055251837, 'wm_score': 0.4708591, 'final': 0.14273990531386765}, {'fro': 'complex', 'to': 'building', 'type': 'AtLocation', 'score': 0.0017068859888240695, 'wm_score': 0.6816376, 'final': 0.20568610019217687}, {'fro': 'complex', 'to': 'centre', 'type': 'AtLocation', 'score': 0.0015919534489512444, 'wm_score': 0.49886292, 'final': 0.1507732434142659}, {'fro': 'complex', 'to': 'suburbs', 'type': 'AtLocation', 'score': 0.001552838133648038, 'wm_score': 0.33868736, 'final': 0.10269319469355365}, {'fro': 'complex', 'to': 'south', 'type': 'AtLocation', 'score': 0.001540095661766827, 'wm_score': 0.3582853, 'final': 0.10856365696323679}, {'fro': 'complex', 'to': 'streets', 'type': 'AtLocation', 'score': 0.0015166641678661108, 'wm_score': 0.39184356, 'final': 0.1186147329175063}];
    let relation_types = [{'label': 'RelatedTo', 'info': 'The most general relation. There is some positive relationship between A and B, but ConceptNet cant determine what that relationship is based on the data. This was called ConceptuallyRelatedTo in ConceptNet 2 through 4. Symmetric.', 'mask': ''}, {'label': 'FormOf', 'info': 'A is an inflected form of B; B is the root word of A.', 'mask': ''}, {'label': 'IsA', 'info': 'A is a subtype or a specific instance of B; every A is a B. This can include specific instances; the distinction between subtypes and instances is often blurry in language. This is the hyponym relation in WordNet.', 'mask': ''}, {'label': 'PartOf', 'info': 'A is a part of B. This is the part meronym relation in WordNet.', 'mask': ''}, {'label': 'HasA', 'info': 'B belongs to A, either as an inherent part or due to a social construct of possession. HasA is often the reverse of PartOf.', 'mask': 'The OBJECT1 has a OBJECT2'}, {'label': 'UsedFor', 'info': 'A is used for B; the purpose of A is B.', 'mask': ''}, {'label': 'CapableOf', 'info': 'Something that A can typically do is B.', 'mask': ''}, {'label': 'AtLocation', 'info': 'A is a typical location for B, or A is the inherent location of B. Some instances of this would be considered meronyms in WordNet.', 'mask': 'A OBJECT1 is in the OBJECT2'}, {'label': 'Causes', 'info': 'A and B are events, and it is typical for A to cause B.', 'mask': ''}, {'label': 'HasSubevent', 'info': 'A and B are events, and B happens as a subevent of A.', 'mask': ''}, {'label': 'HasFirstSubevent', 'info': 'A is an event that begins with subevent B.', 'mask': ''}, {'label': 'HasLastSubevent', 'info': 'A is an event that concludes with subevent B.', 'mask': ''}, {'label': 'HasPrerequisite', 'info': 'In order for A to happen, B needs to happen; B is a dependency of A.', 'mask': ''}, {'label': 'HasProperty', 'info': 'A has B as a property; A can be described as B.', 'mask': ''}, {'label': 'MotivatedByGoal', 'info': 'Someone does A because they want result B; A is a step toward accomplishing the goal B.', 'mask': ''}, {'label': 'ObstructedBy', 'info': 'A is a goal that can be prevented by B; B is an obstacle in the way of A.', 'mask': ''}, {'label': 'Desires', 'info': 'A is a conscious entity that typically wants B. Many assertions of this type use the appropriate languages word for person as A.', 'mask': ''}, {'label': 'CreatedBy', 'info': 'B is a process or agent that creates A.', 'mask': ''}, {'label': 'Synonym', 'info': 'A and B have very similar meanings. They may be translations of each other in different languages. This is the synonym relation in WordNet as well. Symmetric.', 'mask': ''}, {'label': 'Antonym', 'info': 'A and B are opposites in some relevant way, such as being opposite ends of a scale, or fundamentally similar things with a key difference between them. Counterintuitively, two concepts must be quite similar before people consider them antonyms. This is the antonym relation in WordNet as well. Symmetric.', 'mask': ''}, {'label': 'DistinctFrom', 'info': 'A and B are distinct member of a set; something that is A is not B. Symmetric.', 'mask': ''}, {'label': 'DerivedFrom', 'info': 'A is a word or phrase that appears within B and contributes to Bs meaning.', 'mask': ''}, {'label': 'SymbolOf', 'info': 'A symbolically represents B.', 'mask': ''}, {'label': 'DefinedAs', 'info': 'A and B overlap considerably in meaning, and B is a more explanatory version of A.', 'mask': ''}, {'label': 'MannerOf', 'info': 'A is a specific way to do B. Similar to IsA, but for verbs.', 'mask': ''}, {'label': 'LocatedNear', 'info': 'A and B are typically found near each other. Symmetric.', 'mask': ''}, {'label': 'HasContext', 'info': 'A is a word used in the context of B, which could be a topic area, technical field, or regional dialect.', 'mask': ''}, {'label': 'SimilarTo', 'info': 'A is similar to B. Symmetric.', 'mask': ''}, {'label': 'EtymologicallyRelatedTo', 'info': 'A and B have a common origin. Symmetric.', 'mask': ''}, {'label': 'EtymologicallyDerivedFrom', 'info': 'A is derived from B.', 'mask': ''}, {'label': 'CausesDesire', 'info': 'A makes someone want B.', 'mask': ''}, {'label': 'MadeOf', 'info': 'A is made of B.', 'mask': ''}, {'label': 'ReceivesAction', 'info': 'B can be done to A.', 'mask': ''}];

        function fillHTML(sortBy) {
        document.getElementById("relations").innerHTML = "";

        relation_types.forEach(r => {
            let frels_from = relations.filter(rel => rel.type === r.label && rel.fro === name);
            let title_from = r.mask.replace("OBJECT1", name).replace("OBJECT2", "...");
            generateList(r, sortBy, frels_from.map(frel => {
                return {label: frel.to, ...frel}
            }), title_from);
            let frels_to = relations.filter(rel => rel.type === r.label && rel.to === name);
            let title_to = r.mask.replace("OBJECT1", "...").replace("OBJECT2", name);
            generateList(r, sortBy, frels_to.map(frel => {
                return {label: frel.fro, ...frel}
            }), title_to);

        })
    }

    function generateList(r, sortBy, frels, title) {
        if (frels.length > 0) {
            frels = frels.sort(sortBy);
            let str = `<div class="rel-container"><h2>${title}</h2>`
            str += `<div class="rel-item caption"><a>Name</a>
                            <div class="scores">
                            <span  onclick="fillHTML(sortByBERT)">BERT</span>
                            <span onclick="fillHTML(sortByW2V)">W2V</span>
                            <span  onclick="fillHTML(sortByFinal)">Score</span></div></div>`
            str += "<div>" + frels.map(frel => {
                let score = parseFloat(frel.score).toFixed(3);
                let wm_score = parseFloat(frel.wm_score).toFixed(3);
                let interpolated_score = frel.final.toFixed(3);
                return `<div class="rel-item"><a href="${frel.label}.html">${frel.label}</a>
                            <div class="scores"><span>${score}</span>
                            <span>${wm_score}</span>
                            <span>${interpolated_score}</span></div></div>`
            }).join("\n") + " </div></div>"
            document.getElementById("relations").insertAdjacentHTML("beforeend", str)
        }
    }

    function sortByFinal(fr1, fr2) {
        return fr2.final - fr1.final;
    }

    function sortByBERT(fr1, fr2) {
        return fr2.score - fr1.score;
    }

    function sortByW2V(fr1, fr2) {
        return fr2.wm_score - fr1.wm_score;
    }

    fillHTML(sortByFinal)
</script>
</html>

