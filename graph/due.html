<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>BertNet</title>
    <style>
         #relations {
             display: flex;
             flex-wrap: wrap;
         }

         .rel-container {
             width: fit-content;
             margin: 0 20px;
         }

         #title {
             text-transform: capitalize;
         }

         .rel-item, .scores {
             display: flex;
             justify-content: space-between;
         }

         .rel-item a {
             margin-right: 15px;
         }

         .scores span {
             width: 50px;
             text-align: center;
         }

         .caption {
             font-weight: bold;
         }

         .caption .scores {
             cursor: pointer;
         }
    </style>
</head>
<body>
<h1 id="title">due</h1>
<div id="relations"></div>
</body>
<script>
    let name = "due"
    let relations = [{'fro': 'bill', 'to': 'due', 'type': 'HasA', 'score': 0.013446531258523464, 'wm_score': 0.39390475, 'final': 0.12758399688096644}, {'fro': 'verdict', 'to': 'due', 'type': 'HasA', 'score': 0.010916856117546558, 'wm_score': 0.38005, 'final': 0.12165679928228261}, {'fro': 'lawsuit', 'to': 'due', 'type': 'HasA', 'score': 0.00820559449493885, 'wm_score': 0.35484812, 'final': 0.11219835214645721}, {'fro': 'film', 'to': 'due', 'type': 'HasA', 'score': 0.008103957399725914, 'wm_score': 0.38876432, 'final': 0.12230206617980816}, {'fro': 'case', 'to': 'due', 'type': 'HasA', 'score': 0.0071532041765749454, 'wm_score': 0.5325676, 'final': 0.1647775229236025}, {'fro': 'judge', 'to': 'due', 'type': 'HasA', 'score': 0.00660528102889657, 'wm_score': 0.35995758, 'final': 0.11261097072022762}, {'fro': 'report', 'to': 'due', 'type': 'HasA', 'score': 0.00622288603335619, 'wm_score': 0.57232, 'final': 0.17605202022334937}, {'fro': 'ruling', 'to': 'due', 'type': 'HasA', 'score': 0.006143833510577679, 'wm_score': 0.44309428, 'final': 0.1372289674574044}, {'fro': 'letter', 'to': 'due', 'type': 'HasA', 'score': 0.005709891673177481, 'wm_score': 0.37535578, 'final': 0.11660365817122427}, {'fro': 'issue', 'to': 'due', 'type': 'HasA', 'score': 0.005320506636053324, 'wm_score': 0.5755876, 'final': 0.17640063464523734}, {'fro': 'law', 'to': 'due', 'type': 'HasA', 'score': 0.005157023202627897, 'wm_score': 0.4146234, 'final': 0.12799693624183955}, {'fro': 'movie', 'to': 'due', 'type': 'HasA', 'score': 0.004848751239478588, 'wm_score': 0.33274844, 'final': 0.10321865786763502}, {'fro': 'matter', 'to': 'due', 'type': 'HasA', 'score': 0.0047911168076097965, 'wm_score': 0.53663373, 'final': 0.1643439007653269}, {'fro': 'bbc', 'to': 'due', 'type': 'HasA', 'score': 0.0045897201634943485, 'wm_score': 0.3700145, 'final': 0.11421715411444608}, {'fro': 'investigation', 'to': 'due', 'type': 'HasA', 'score': 0.004555918741971254, 'wm_score': 0.46525618, 'final': 0.1427659971193799}, {'fro': 'queen', 'to': 'due', 'type': 'HasA', 'score': 0.004295542370527983, 'wm_score': 0.36130524, 'final': 0.11139845165936961}, {'fro': 'article', 'to': 'due', 'type': 'HasA', 'score': 0.004124263301491737, 'wm_score': 0.36765158, 'final': 0.11318245831104422}, {'fro': 'inquiry', 'to': 'due', 'type': 'HasA', 'score': 0.003747428534552455, 'wm_score': 0.3719607, 'final': 0.11421140997418673}, {'fro': 'president', 'to': 'due', 'type': 'HasA', 'score': 0.003294390859082341, 'wm_score': 0.45037848, 'final': 0.13741961760135768}, {'fro': 'story', 'to': 'due', 'type': 'HasA', 'score': 0.0032764719799160957, 'wm_score': 0.364226, 'final': 0.11156133038594128}, {'fro': 'book', 'to': 'due', 'type': 'HasA', 'score': 0.003271507564932108, 'wm_score': 0.3461204, 'final': 0.1061261752954525}, {'fro': 'video', 'to': 'due', 'type': 'HasA', 'score': 0.0031361663714051247, 'wm_score': 0.35232145, 'final': 0.10789175145998359}, {'fro': 'proposal', 'to': 'due', 'type': 'HasA', 'score': 0.0029048079159110785, 'wm_score': 0.44556412, 'final': 0.13570260154113778}, {'fro': 'decision', 'to': 'due', 'type': 'HasA', 'score': 0.0028957482427358627, 'wm_score': 0.62186056, 'final': 0.18858519176991512}, {'fro': 'complaint', 'to': 'due', 'type': 'HasA', 'score': 0.0028524419758468866, 'wm_score': 0.3776152, 'final': 0.11528126938309283}, {'fro': 'union', 'to': 'due', 'type': 'HasA', 'score': 0.002792871091514826, 'wm_score': 0.46062464, 'final': 0.1401424017640604}, {'fro': 'due', 'to': 'link', 'type': 'HasA', 'score': 0.01430664211511612, 'wm_score': 0.45222306, 'final': 0.1456815674805813}, {'fro': 'due', 'to': 'website', 'type': 'HasA', 'score': 0.00911734439432621, 'wm_score': 0.3429435, 'final': 0.10926519107602836}, {'fro': 'due', 'to': 'problem', 'type': 'HasA', 'score': 0.008484937250614166, 'wm_score': 0.6210872, 'final': 0.19226561607542994}, {'fro': 'due', 'to': 'date', 'type': 'HasA', 'score': 0.007988279685378075, 'wm_score': 0.6384123, 'final': 0.1971154857797647}, {'fro': 'due', 'to': 'delay', 'type': 'HasA', 'score': 0.007941103540360928, 'wm_score': 0.6025957, 'final': 0.18633748247825266}, {'fro': 'due', 'to': 'resolution', 'type': 'HasA', 'score': 0.006703878752887249, 'wm_score': 0.39041144, 'final': 0.12181614712702109}, {'fro': 'due', 'to': 'priority', 'type': 'HasA', 'score': 0.005904715973883867, 'wm_score': 0.4431095, 'final': 0.13706615118171872}, {'fro': 'due', 'to': 'future', 'type': 'HasA', 'score': 0.005551627371460199, 'wm_score': 0.6159969, 'final': 0.18868520916002215}, {'fro': 'due', 'to': 'response', 'type': 'HasA', 'score': 0.0048815663903951645, 'wm_score': 0.6011292, 'final': 0.18375585647327666}, {'fro': 'due', 'to': 'history', 'type': 'HasA', 'score': 0.0044949911534786224, 'wm_score': 0.4436158, 'final': 0.13623123380743507}, {'fro': 'due', 'to': 'limit', 'type': 'HasA', 'score': 0.0038481466472148895, 'wm_score': 0.5127114, 'final': 0.15650712265305045}, {'fro': 'due', 'to': 'solution', 'type': 'HasA', 'score': 0.0037363306619226933, 'wm_score': 0.41264075, 'final': 0.1264076564633459}, {'fro': 'due', 'to': 'warrant', 'type': 'HasA', 'score': 0.003688529832288623, 'wm_score': 0.3895743, 'final': 0.11945426088260205}, {'fro': 'due', 'to': 'lot', 'type': 'HasA', 'score': 0.003377910004928708, 'wm_score': 0.4583993, 'final': 0.13988432700345013}, {'fro': 'due', 'to': 'deadline', 'type': 'HasA', 'score': 0.0033730396535247564, 'wm_score': 0.4682652, 'final': 0.14284068775746736}, {'fro': 'lawsuit', 'to': 'due', 'type': 'AtLocation', 'score': 0.02148376777768135, 'wm_score': 0.35484812, 'final': 0.12149307344437696}, {'fro': 'hearing', 'to': 'due', 'type': 'AtLocation', 'score': 0.019911235198378563, 'wm_score': 0.49496937, 'final': 0.162428675638865}, {'fro': 'settlement', 'to': 'due', 'type': 'AtLocation', 'score': 0.018790246918797493, 'wm_score': 0.397013, 'final': 0.13225707284315827}, {'fro': 'loan', 'to': 'due', 'type': 'AtLocation', 'score': 0.016695553436875343, 'wm_score': 0.44649696, 'final': 0.14563597540581277}, {'fro': 'jury', 'to': 'due', 'type': 'AtLocation', 'score': 0.016475176438689232, 'wm_score': 0.29766026, 'final': 0.10083070150708248}, {'fro': 'judge', 'to': 'due', 'type': 'AtLocation', 'score': 0.015223583206534386, 'wm_score': 0.35995758, 'final': 0.11864378224457409}, {'fro': 'verdict', 'to': 'due', 'type': 'AtLocation', 'score': 0.014984190464019775, 'wm_score': 0.38005, 'final': 0.12450393332481385}, {'fro': 'trial', 'to': 'due', 'type': 'AtLocation', 'score': 0.01439522486180067, 'wm_score': 0.42958543, 'final': 0.1389522864032605}, {'fro': 'divorce', 'to': 'due', 'type': 'AtLocation', 'score': 0.013691696338355541, 'wm_score': 0.38720295, 'final': 0.1257450724368489}, {'fro': 'proposal', 'to': 'due', 'type': 'AtLocation', 'score': 0.009366615675389767, 'wm_score': 0.44556412, 'final': 0.14022586697277287}, {'fro': 'replacement', 'to': 'due', 'type': 'AtLocation', 'score': 0.008190645836293697, 'wm_score': 0.53110665, 'final': 0.16506544708540563}, {'fro': 'complaint', 'to': 'due', 'type': 'AtLocation', 'score': 0.007976749911904335, 'wm_score': 0.3776152, 'final': 0.11886828493833304}, {'fro': 'report', 'to': 'due', 'type': 'AtLocation', 'score': 0.0077416906133294106, 'wm_score': 0.57232, 'final': 0.17711518342933064}, {'fro': 'deal', 'to': 'due', 'type': 'AtLocation', 'score': 0.007246213033795357, 'wm_score': 0.5728299, 'final': 0.17692131912365677}, {'fro': 'transfer', 'to': 'due', 'type': 'AtLocation', 'score': 0.006517329718917608, 'wm_score': 0.5392257, 'final': 0.16632984080324237}, {'fro': 'review', 'to': 'due', 'type': 'AtLocation', 'score': 0.005779433064162731, 'wm_score': 0.47446978, 'final': 0.14638653714491395}, {'fro': 'correction', 'to': 'due', 'type': 'AtLocation', 'score': 0.0057255057618021965, 'wm_score': 0.3209293, 'final': 0.10028664403326154}, {'fro': 'pilot', 'to': 'due', 'type': 'AtLocation', 'score': 0.005292188376188278, 'wm_score': 0.43649653, 'final': 0.1346534908633318}, {'fro': 'decision', 'to': 'due', 'type': 'AtLocation', 'score': 0.005209424998611212, 'wm_score': 0.62186056, 'final': 0.19020476549902787}, {'fro': 'contract', 'to': 'due', 'type': 'AtLocation', 'score': 0.004645791836082935, 'wm_score': 0.545106, 'final': 0.16678385428525805}, {'fro': 'bill', 'to': 'due', 'type': 'AtLocation', 'score': 0.004580396227538586, 'wm_score': 0.39390475, 'final': 0.12137770235927703}, {'fro': 'bid', 'to': 'due', 'type': 'AtLocation', 'score': 0.00452800840139389, 'wm_score': 0.48105416, 'final': 0.14748585388097576}, {'fro': 'date', 'to': 'due', 'type': 'AtLocation', 'score': 0.00432721059769392, 'wm_score': 0.6384123, 'final': 0.1945527374183858}, {'fro': 'probe', 'to': 'due', 'type': 'AtLocation', 'score': 0.004212730564177036, 'wm_score': 0.35505587, 'final': 0.10946567239492394}, {'fro': 'fine', 'to': 'due', 'type': 'AtLocation', 'score': 0.0040965513326227665, 'wm_score': 0.38796616, 'final': 0.11925743393283596}, {'fro': 'court', 'to': 'due', 'type': 'AtLocation', 'score': 0.00403347285464406, 'wm_score': 0.4751588, 'final': 0.14537107099825086}, {'fro': 'response', 'to': 'due', 'type': 'AtLocation', 'score': 0.004021924454718828, 'wm_score': 0.6011292, 'final': 0.1831541071183032}, {'fro': 'lot', 'to': 'due', 'type': 'AtLocation', 'score': 0.003963881637901068, 'wm_score': 0.4583993, 'final': 0.14029450714653077}, {'fro': 'meeting', 'to': 'due', 'type': 'AtLocation', 'score': 0.0036766226403415203, 'wm_score': 0.5475471, 'final': 0.16683776584823906}, {'fro': 'due', 'to': 'works', 'type': 'AtLocation', 'score': 0.5678881406784058, 'wm_score': 0.39671034, 'final': 0.516534800474884}, {'fro': 'due', 'to': 'pipeline', 'type': 'AtLocation', 'score': 0.16544480621814728, 'wm_score': 0.30823457, 'final': 0.2082817353527031}, {'fro': 'due', 'to': 'cards', 'type': 'AtLocation', 'score': 0.022656071931123734, 'wm_score': 0.31653073, 'final': 0.11081846935178663}, {'fro': 'due', 'to': 'process', 'type': 'AtLocation', 'score': 0.012210325337946415, 'wm_score': 0.5690237, 'final': 0.17925433773656252}, {'fro': 'due', 'to': 'balance', 'type': 'AtLocation', 'score': 0.007893524132668972, 'wm_score': 0.48473138, 'final': 0.1509448808928683}, {'fro': 'due', 'to': 'papers', 'type': 'AtLocation', 'score': 0.007270870264619589, 'wm_score': 0.32566264, 'final': 0.10278840118523373}, {'fro': 'due', 'to': 'making', 'type': 'AtLocation', 'score': 0.006738964933902025, 'wm_score': 0.60502005, 'final': 0.18622329045373145}, {'fro': 'due', 'to': 'future', 'type': 'AtLocation', 'score': 0.005758993327617645, 'wm_score': 0.6159969, 'final': 0.18883036532933237}, {'fro': 'due', 'to': 'air', 'type': 'AtLocation', 'score': 0.005450233817100525, 'wm_score': 0.5000951, 'final': 0.1538436936719704}, {'fro': 'due', 'to': 'matter', 'type': 'AtLocation', 'score': 0.004689102526754141, 'wm_score': 0.53663373, 'final': 0.16427249076872794}, {'fro': 'due', 'to': 'meantime', 'type': 'AtLocation', 'score': 0.004445785190910101, 'wm_score': 0.45404297, 'final': 0.1393249406336371}, {'fro': 'due', 'to': 'background', 'type': 'AtLocation', 'score': 0.003405235009267926, 'wm_score': 0.38975543, 'final': 0.11931029350648757}, {'fro': 'due', 'to': 'file', 'type': 'AtLocation', 'score': 0.003329005790874362, 'wm_score': 0.34089535, 'final': 0.10459890905361206}, {'fro': 'due', 'to': 'details', 'type': 'AtLocation', 'score': 0.003163049928843975, 'wm_score': 0.50397766, 'final': 0.15340743295019083}, {'fro': 'due', 'to': 'document', 'type': 'AtLocation', 'score': 0.002925672335550189, 'wm_score': 0.38127938, 'final': 0.11643178463488514}, {'fro': 'due', 'to': 'interim', 'type': 'AtLocation', 'score': 0.0023770262487232685, 'wm_score': 0.3624238, 'final': 0.11039105837410632}, {'fro': 'due', 'to': 'way', 'type': 'AtLocation', 'score': 0.0023662648163735867, 'wm_score': 0.5544621, 'final': 0.16799501537146153}, {'fro': 'due', 'to': 'book', 'type': 'AtLocation', 'score': 0.0022279086988419294, 'wm_score': 0.3461204, 'final': 0.10539565608918937}, {'fro': 'due', 'to': 'news', 'type': 'AtLocation', 'score': 0.002218228532001376, 'wm_score': 0.49550503, 'final': 0.15020426897240097}, {'fro': 'due', 'to': 'area', 'type': 'AtLocation', 'score': 0.001580810989253223, 'wm_score': 0.54125893, 'final': 0.16348424669247727}, {'fro': 'due', 'to': 'case', 'type': 'AtLocation', 'score': 0.0015718152280896902, 'wm_score': 0.5325676, 'final': 0.16087055065966283}, {'fro': 'due', 'to': 'title', 'type': 'AtLocation', 'score': 0.001370136858895421, 'wm_score': 0.4582658, 'final': 0.13843883580122682}, {'fro': 'due', 'to': 'bank', 'type': 'AtLocation', 'score': 0.001368012628518045, 'wm_score': 0.37376398, 'final': 0.11308680283996264}, {'fro': 'due', 'to': 'past', 'type': 'AtLocation', 'score': 0.0012785837752744555, 'wm_score': 0.5802365, 'final': 0.17496595864269215}, {'fro': 'due', 'to': 'order', 'type': 'AtLocation', 'score': 0.0012197180185467005, 'wm_score': 0.62425643, 'final': 0.1881307316129827}, {'fro': 'due', 'to': 'courts', 'type': 'AtLocation', 'score': 0.0011300811311230063, 'wm_score': 0.38777292, 'final': 0.11712293279178614}, {'fro': 'due', 'to': 'series', 'type': 'AtLocation', 'score': 0.0011075757211074233, 'wm_score': 0.5056461, 'final': 0.15246913300477521}, {'fro': 'due', 'to': 'contract', 'type': 'AtLocation', 'score': 0.0010842045303434134, 'wm_score': 0.545106, 'final': 0.1642907431712404}];
    let relation_types = [{'label': 'RelatedTo', 'info': 'The most general relation. There is some positive relationship between A and B, but ConceptNet cant determine what that relationship is based on the data. This was called ConceptuallyRelatedTo in ConceptNet 2 through 4. Symmetric.', 'mask': ''}, {'label': 'FormOf', 'info': 'A is an inflected form of B; B is the root word of A.', 'mask': ''}, {'label': 'IsA', 'info': 'A is a subtype or a specific instance of B; every A is a B. This can include specific instances; the distinction between subtypes and instances is often blurry in language. This is the hyponym relation in WordNet.', 'mask': ''}, {'label': 'PartOf', 'info': 'A is a part of B. This is the part meronym relation in WordNet.', 'mask': ''}, {'label': 'HasA', 'info': 'B belongs to A, either as an inherent part or due to a social construct of possession. HasA is often the reverse of PartOf.', 'mask': 'The OBJECT1 has a OBJECT2'}, {'label': 'UsedFor', 'info': 'A is used for B; the purpose of A is B.', 'mask': ''}, {'label': 'CapableOf', 'info': 'Something that A can typically do is B.', 'mask': ''}, {'label': 'AtLocation', 'info': 'A is a typical location for B, or A is the inherent location of B. Some instances of this would be considered meronyms in WordNet.', 'mask': 'A OBJECT1 is in the OBJECT2'}, {'label': 'Causes', 'info': 'A and B are events, and it is typical for A to cause B.', 'mask': ''}, {'label': 'HasSubevent', 'info': 'A and B are events, and B happens as a subevent of A.', 'mask': ''}, {'label': 'HasFirstSubevent', 'info': 'A is an event that begins with subevent B.', 'mask': ''}, {'label': 'HasLastSubevent', 'info': 'A is an event that concludes with subevent B.', 'mask': ''}, {'label': 'HasPrerequisite', 'info': 'In order for A to happen, B needs to happen; B is a dependency of A.', 'mask': ''}, {'label': 'HasProperty', 'info': 'A has B as a property; A can be described as B.', 'mask': ''}, {'label': 'MotivatedByGoal', 'info': 'Someone does A because they want result B; A is a step toward accomplishing the goal B.', 'mask': ''}, {'label': 'ObstructedBy', 'info': 'A is a goal that can be prevented by B; B is an obstacle in the way of A.', 'mask': ''}, {'label': 'Desires', 'info': 'A is a conscious entity that typically wants B. Many assertions of this type use the appropriate languages word for person as A.', 'mask': ''}, {'label': 'CreatedBy', 'info': 'B is a process or agent that creates A.', 'mask': ''}, {'label': 'Synonym', 'info': 'A and B have very similar meanings. They may be translations of each other in different languages. This is the synonym relation in WordNet as well. Symmetric.', 'mask': ''}, {'label': 'Antonym', 'info': 'A and B are opposites in some relevant way, such as being opposite ends of a scale, or fundamentally similar things with a key difference between them. Counterintuitively, two concepts must be quite similar before people consider them antonyms. This is the antonym relation in WordNet as well. Symmetric.', 'mask': ''}, {'label': 'DistinctFrom', 'info': 'A and B are distinct member of a set; something that is A is not B. Symmetric.', 'mask': ''}, {'label': 'DerivedFrom', 'info': 'A is a word or phrase that appears within B and contributes to Bs meaning.', 'mask': ''}, {'label': 'SymbolOf', 'info': 'A symbolically represents B.', 'mask': ''}, {'label': 'DefinedAs', 'info': 'A and B overlap considerably in meaning, and B is a more explanatory version of A.', 'mask': ''}, {'label': 'MannerOf', 'info': 'A is a specific way to do B. Similar to IsA, but for verbs.', 'mask': ''}, {'label': 'LocatedNear', 'info': 'A and B are typically found near each other. Symmetric.', 'mask': ''}, {'label': 'HasContext', 'info': 'A is a word used in the context of B, which could be a topic area, technical field, or regional dialect.', 'mask': ''}, {'label': 'SimilarTo', 'info': 'A is similar to B. Symmetric.', 'mask': ''}, {'label': 'EtymologicallyRelatedTo', 'info': 'A and B have a common origin. Symmetric.', 'mask': ''}, {'label': 'EtymologicallyDerivedFrom', 'info': 'A is derived from B.', 'mask': ''}, {'label': 'CausesDesire', 'info': 'A makes someone want B.', 'mask': ''}, {'label': 'MadeOf', 'info': 'A is made of B.', 'mask': ''}, {'label': 'ReceivesAction', 'info': 'B can be done to A.', 'mask': ''}];

        function fillHTML(sortBy) {
        document.getElementById("relations").innerHTML = "";

        relation_types.forEach(r => {
            let frels_from = relations.filter(rel => rel.type === r.label && rel.fro === name);
            let title_from = r.mask.replace("OBJECT1", name).replace("OBJECT2", "...");
            generateList(r, sortBy, frels_from.map(frel => {
                return {label: frel.to, ...frel}
            }), title_from);
            let frels_to = relations.filter(rel => rel.type === r.label && rel.to === name);
            let title_to = r.mask.replace("OBJECT1", "...").replace("OBJECT2", name);
            generateList(r, sortBy, frels_to.map(frel => {
                return {label: frel.fro, ...frel}
            }), title_to);

        })
    }

    function generateList(r, sortBy, frels, title) {
        if (frels.length > 0) {
            frels = frels.sort(sortBy);
            let str = `<div class="rel-container"><h2>${title}</h2>`
            str += `<div class="rel-item caption"><a>Name</a>
                            <div class="scores">
                            <span  onclick="fillHTML(sortByBERT)">BERT</span>
                            <span onclick="fillHTML(sortByW2V)">W2V</span>
                            <span  onclick="fillHTML(sortByFinal)">Score</span></div></div>`
            str += "<div>" + frels.map(frel => {
                let score = parseFloat(frel.score).toFixed(3);
                let wm_score = parseFloat(frel.wm_score).toFixed(3);
                let interpolated_score = frel.final.toFixed(3);
                return `<div class="rel-item"><a href="${frel.label}.html">${frel.label}</a>
                            <div class="scores"><span>${score}</span>
                            <span>${wm_score}</span>
                            <span>${interpolated_score}</span></div></div>`
            }).join("\n") + " </div></div>"
            document.getElementById("relations").insertAdjacentHTML("beforeend", str)
        }
    }

    function sortByFinal(fr1, fr2) {
        return fr2.final - fr1.final;
    }

    function sortByBERT(fr1, fr2) {
        return fr2.score - fr1.score;
    }

    function sortByW2V(fr1, fr2) {
        return fr2.wm_score - fr1.wm_score;
    }

    fillHTML(sortByFinal)
</script>
</html>

