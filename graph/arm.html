<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>BertNet</title>
    <style>
         #relations {
             display: flex;
             flex-wrap: wrap;
         }

         .rel-container {
             width: fit-content;
             margin: 0 20px;
         }

         #title {
             text-transform: capitalize;
         }

         .rel-item, .scores {
             display: flex;
             justify-content: space-between;
         }

         .rel-item a {
             margin-right: 15px;
         }

         .scores span {
             width: 50px;
             text-align: center;
         }

         .caption {
             font-weight: bold;
         }

         .caption .scores {
             cursor: pointer;
         }
    </style>
</head>
<body>
<h1 id="title">arm</h1>
<div id="relations"></div>
</body>
<script>
    let name = "arm"
    let relations = [{'fro': 'foot', 'to': 'arm', 'type': 'AtLocation', 'score': 0.002476678928360343, 'wm_score': 0.54784954, 'final': 0.16608853724985226}, {'fro': 'finger', 'to': 'arm', 'type': 'AtLocation', 'score': 0.003410050179809332, 'wm_score': 0.63408613, 'final': 0.19261287412586656}, {'fro': 'shoulder', 'to': 'arm', 'type': 'AtLocation', 'score': 0.006066781003028154, 'wm_score': 0.697209, 'final': 0.21340944670211975}, {'fro': 'cat', 'to': 'arm', 'type': 'HasA', 'score': 0.024698853492736816, 'wm_score': 0.346564, 'final': 0.12125839744491579}, {'fro': 'boy', 'to': 'arm', 'type': 'HasA', 'score': 0.014912547543644905, 'wm_score': 0.42608243, 'final': 0.13826351228055145}, {'fro': 'robot', 'to': 'arm', 'type': 'HasA', 'score': 0.014878455549478531, 'wm_score': 0.40487146, 'final': 0.131876356884635}, {'fro': 'elephant', 'to': 'arm', 'type': 'HasA', 'score': 0.012929867953062057, 'wm_score': 0.33761343, 'final': 0.11033493656714345}, {'fro': 'horse', 'to': 'arm', 'type': 'HasA', 'score': 0.012540725991129875, 'wm_score': 0.37059, 'final': 0.11995550819379092}, {'fro': 'dog', 'to': 'arm', 'type': 'HasA', 'score': 0.012260692194104195, 'wm_score': 0.37122333, 'final': 0.11994948353587295}, {'fro': 'girl', 'to': 'arm', 'type': 'HasA', 'score': 0.010930175893008709, 'wm_score': 0.33702853, 'final': 0.10875968212510612}, {'fro': 'man', 'to': 'arm', 'type': 'HasA', 'score': 0.010864422656595707, 'wm_score': 0.47319204, 'final': 0.149562707859617}, {'fro': 'baby', 'to': 'arm', 'type': 'HasA', 'score': 0.008190611377358437, 'wm_score': 0.37430412, 'final': 0.11802466396415093}, {'fro': 'woman', 'to': 'arm', 'type': 'HasA', 'score': 0.0068653118796646595, 'wm_score': 0.37434563, 'final': 0.11710940731576527}, {'fro': 'tiger', 'to': 'arm', 'type': 'HasA', 'score': 0.00555330328643322, 'wm_score': 0.35668117, 'final': 0.11089166330050326}, {'fro': 'guy', 'to': 'arm', 'type': 'HasA', 'score': 0.004978190641850233, 'wm_score': 0.38936543, 'final': 0.12029436244929519}, {'fro': 'bear', 'to': 'arm', 'type': 'HasA', 'score': 0.0041383132338523865, 'wm_score': 0.40671274, 'final': 0.12491064126369669}, {'fro': 'calf', 'to': 'arm', 'type': 'HasA', 'score': 0.0037210029549896717, 'wm_score': 0.45514494, 'final': 0.1391481840684928}, {'fro': 'eagle', 'to': 'arm', 'type': 'HasA', 'score': 0.0033314782194793224, 'wm_score': 0.40618378, 'final': 0.12418716875363554}, {'fro': 'arm', 'to': 'twist', 'type': 'HasA', 'score': 0.04189524054527283, 'wm_score': 0.34560108, 'final': 0.133006992381691}, {'fro': 'arm', 'to': 'slit', 'type': 'HasA', 'score': 0.025518329814076424, 'wm_score': 0.27620232, 'final': 0.1007235268698535}, {'fro': 'arm', 'to': 'handle', 'type': 'HasA', 'score': 0.017855588346719742, 'wm_score': 0.45034832, 'final': 0.14760340784270384}, {'fro': 'arm', 'to': 'scar', 'type': 'HasA', 'score': 0.01737426221370697, 'wm_score': 0.4576084, 'final': 0.1494445035495949}, {'fro': 'arm', 'to': 'limp', 'type': 'HasA', 'score': 0.016677875071763992, 'wm_score': 0.32736814, 'final': 0.10988495455023481}, {'fro': 'arm', 'to': 'hole', 'type': 'HasA', 'score': 0.014916811138391495, 'wm_score': 0.3735951, 'final': 0.12252029779687407}, {'fro': 'arm', 'to': 'hook', 'type': 'HasA', 'score': 0.013285670429468155, 'wm_score': 0.5503199, 'final': 0.17439593930062772}, {'fro': 'arm', 'to': 'tattoo', 'type': 'HasA', 'score': 0.013044753111898899, 'wm_score': 0.39721456, 'final': 0.12829569517832926}, {'fro': 'arm', 'to': 'sling', 'type': 'HasA', 'score': 0.012481232173740864, 'wm_score': 0.47380197, 'final': 0.15087745352161863}, {'fro': 'arm', 'to': 'ring', 'type': 'HasA', 'score': 0.01073490735143423, 'wm_score': 0.42655614, 'final': 0.13548127714600397}, {'fro': 'arm', 'to': 'tear', 'type': 'HasA', 'score': 0.00936371460556984, 'wm_score': 0.35533583, 'final': 0.11315534922389892}, {'fro': 'arm', 'to': 'bend', 'type': 'HasA', 'score': 0.009301990270614624, 'wm_score': 0.375202, 'final': 0.11907199318943025}, {'fro': 'arm', 'to': 'tip', 'type': 'HasA', 'score': 0.009170081466436386, 'wm_score': 0.48330978, 'final': 0.1514119910265055}, {'fro': 'arm', 'to': 'fracture', 'type': 'HasA', 'score': 0.00898830033838749, 'wm_score': 0.41009015, 'final': 0.12931885523687126}, {'fro': 'arm', 'to': 'socket', 'type': 'HasA', 'score': 0.008728000335395336, 'wm_score': 0.3184281, 'final': 0.10163803023477674}, {'fro': 'arm', 'to': 'cast', 'type': 'HasA', 'score': 0.008180085569620132, 'wm_score': 0.31483477, 'final': 0.10017649089873411}, {'fro': 'arm', 'to': 'bone', 'type': 'HasA', 'score': 0.005858176853507757, 'wm_score': 0.50205743, 'final': 0.15471795279745545}, {'fro': 'arm', 'to': 'nerve', 'type': 'HasA', 'score': 0.00585173862054944, 'wm_score': 0.3912772, 'final': 0.12147937703438462}, {'fro': 'arm', 'to': 'problem', 'type': 'HasA', 'score': 0.0057612136006355286, 'wm_score': 0.3758117, 'final': 0.11677635952044489}, {'fro': 'arm', 'to': 'chip', 'type': 'HasA', 'score': 0.004891904070973396, 'wm_score': 0.40595037, 'final': 0.12520944384968138}, {'fro': 'arm', 'to': 'link', 'type': 'HasA', 'score': 0.004890024196356535, 'wm_score': 0.3269705, 'final': 0.1015141669374496}, {'fro': 'arm', 'to': 'tail', 'type': 'HasA', 'score': 0.004532001446932554, 'wm_score': 0.5200708, 'final': 0.15919364101285283}, {'fro': 'arm', 'to': 'blade', 'type': 'HasA', 'score': 0.004356421995908022, 'wm_score': 0.45725083, 'final': 0.14022474439713564}, {'fro': 'arm', 'to': 'brace', 'type': 'HasA', 'score': 0.004346578381955624, 'wm_score': 0.4427367, 'final': 0.13586361486736895}, {'fro': 'arm', 'to': 'bridge', 'type': 'HasA', 'score': 0.004300370346754789, 'wm_score': 0.3275653, 'final': 0.10127984924272837}, {'fro': 'arm', 'to': 'lock', 'type': 'HasA', 'score': 0.004252515267580748, 'wm_score': 0.44087046, 'final': 0.13523789868730654}, {'fro': 'arm', 'to': 'claw', 'type': 'HasA', 'score': 0.004075327422469854, 'wm_score': 0.35408482, 'final': 0.10907817519572893}, {'fro': 'bullet', 'to': 'arm', 'type': 'AtLocation', 'score': 0.3709249496459961, 'wm_score': 0.48589173, 'final': 0.4054149837521973}, {'fro': 'needle', 'to': 'arm', 'type': 'AtLocation', 'score': 0.027236217632889748, 'wm_score': 0.37565842, 'final': 0.13176287834302283}, {'fro': 'knife', 'to': 'arm', 'type': 'AtLocation', 'score': 0.026098139584064484, 'wm_score': 0.43823057, 'final': 0.14973786870884515}, {'fro': 'shot', 'to': 'arm', 'type': 'AtLocation', 'score': 0.02021469920873642, 'wm_score': 0.44679287, 'final': 0.14818815044611552}, {'fro': 'cat', 'to': 'arm', 'type': 'AtLocation', 'score': 0.016972605139017105, 'wm_score': 0.346564, 'final': 0.11585002359731199}, {'fro': 'grenade', 'to': 'arm', 'type': 'AtLocation', 'score': 0.01515814010053873, 'wm_score': 0.32115847, 'final': 0.10695823907037712}, {'fro': 'dagger', 'to': 'arm', 'type': 'AtLocation', 'score': 0.012883084826171398, 'wm_score': 0.36625695, 'final': 0.11889524437832}, {'fro': 'tattoo', 'to': 'arm', 'type': 'AtLocation', 'score': 0.01222098059952259, 'wm_score': 0.39721456, 'final': 0.12771905441966583}, {'fro': 'sword', 'to': 'arm', 'type': 'AtLocation', 'score': 0.011145372875034809, 'wm_score': 0.45454904, 'final': 0.1441664730125244}, {'fro': 'nail', 'to': 'arm', 'type': 'AtLocation', 'score': 0.00824033934623003, 'wm_score': 0.32257605, 'final': 0.10254105254236104}, {'fro': 'snake', 'to': 'arm', 'type': 'AtLocation', 'score': 0.006937004160135984, 'wm_score': 0.32159054, 'final': 0.10133306491209519}, {'fro': 'tear', 'to': 'arm', 'type': 'AtLocation', 'score': 0.006935436278581619, 'wm_score': 0.35533583, 'final': 0.11145555439500715}, {'fro': 'target', 'to': 'arm', 'type': 'AtLocation', 'score': 0.00652351463213563, 'wm_score': 0.39616323, 'final': 0.12341542924249495}, {'fro': 'chip', 'to': 'arm', 'type': 'AtLocation', 'score': 0.006251778919249773, 'wm_score': 0.40595037, 'final': 0.12616135624347485}, {'fro': 'bone', 'to': 'arm', 'type': 'AtLocation', 'score': 0.005582769401371479, 'wm_score': 0.50205743, 'final': 0.15452516758096005}, {'fro': 'soldier', 'to': 'arm', 'type': 'AtLocation', 'score': 0.005331110209226608, 'wm_score': 0.36867356, 'final': 0.11433384514645865}, {'fro': 'rifle', 'to': 'arm', 'type': 'AtLocation', 'score': 0.005015953443944454, 'wm_score': 0.39244288, 'final': 0.12124403141076114}, {'fro': 'man', 'to': 'arm', 'type': 'AtLocation', 'score': 0.004635129123926163, 'wm_score': 0.47319204, 'final': 0.14520220238674833}, {'fro': 'gun', 'to': 'arm', 'type': 'AtLocation', 'score': 0.004558161832392216, 'wm_score': 0.401139, 'final': 0.12353241328267457}, {'fro': 'dog', 'to': 'arm', 'type': 'AtLocation', 'score': 0.004472984001040459, 'wm_score': 0.37122333, 'final': 0.11449808780072834}, {'fro': 'baby', 'to': 'arm', 'type': 'AtLocation', 'score': 0.003985060378909111, 'wm_score': 0.37430412, 'final': 0.1150807782652364}, {'fro': 'fist', 'to': 'arm', 'type': 'AtLocation', 'score': 0.0038178074173629284, 'wm_score': 0.434967, 'final': 0.13316256519215408}, {'fro': 'gunshot', 'to': 'arm', 'type': 'AtLocation', 'score': 0.0036002949345856905, 'wm_score': 0.34721228, 'final': 0.10668389045420999}, {'fro': 'arm', 'to': 'air', 'type': 'AtLocation', 'score': 0.11973399668931961, 'wm_score': 0.3564188, 'final': 0.19073943768252374}, {'fro': 'arm', 'to': 'works', 'type': 'AtLocation', 'score': 0.03662380576133728, 'wm_score': 0.3101626, 'final': 0.1186854440329361}, {'fro': 'arm', 'to': 'distance', 'type': 'AtLocation', 'score': 0.02994997426867485, 'wm_score': 0.40722716, 'final': 0.14313312998807243}, {'fro': 'arm', 'to': 'sling', 'type': 'AtLocation', 'score': 0.019028667360544205, 'wm_score': 0.47380197, 'final': 0.15546065815238097}, {'fro': 'arm', 'to': 'making', 'type': 'AtLocation', 'score': 0.015313385985791683, 'wm_score': 0.46151316, 'final': 0.1491733181900542}, {'fro': 'arm', 'to': 'middle', 'type': 'AtLocation', 'score': 0.013811803422868252, 'wm_score': 0.4003323, 'final': 0.12976795239600777}, {'fro': 'arm', 'to': 'bag', 'type': 'AtLocation', 'score': 0.012122252024710178, 'wm_score': 0.4288426, 'final': 0.13713835641729716}, {'fro': 'arm', 'to': 'picture', 'type': 'AtLocation', 'score': 0.009141250513494015, 'wm_score': 0.33266714, 'final': 0.10619901735944581}, {'fro': 'arm', 'to': 'way', 'type': 'AtLocation', 'score': 0.00903862901031971, 'wm_score': 0.45991886, 'final': 0.14430269830722384}, {'fro': 'arm', 'to': 'balance', 'type': 'AtLocation', 'score': 0.008624794892966747, 'wm_score': 0.45923293, 'final': 0.14380723542507673}, {'fro': 'arm', 'to': 'wings', 'type': 'AtLocation', 'score': 0.007253515999764204, 'wm_score': 0.44633827, 'final': 0.13897894219983495}, {'fro': 'arm', 'to': 'tank', 'type': 'AtLocation', 'score': 0.006734083406627178, 'wm_score': 0.42911294, 'final': 0.13344774038463905}, {'fro': 'arm', 'to': 'process', 'type': 'AtLocation', 'score': 0.005609601270407438, 'wm_score': 0.37093103, 'final': 0.11520602988928523}, {'fro': 'arm', 'to': 'ring', 'type': 'AtLocation', 'score': 0.0045985570177435875, 'wm_score': 0.42655614, 'final': 0.1311858319124205}, {'fro': 'arm', 'to': 'blood', 'type': 'AtLocation', 'score': 0.004428111482411623, 'wm_score': 0.4130054, 'final': 0.12700129803768817}, {'fro': 'arm', 'to': 'fire', 'type': 'AtLocation', 'score': 0.0042111570946872234, 'wm_score': 0.3624493, 'final': 0.11168259996628106}, {'fro': 'arm', 'to': 'box', 'type': 'AtLocation', 'score': 0.004011376295238733, 'wm_score': 0.3882063, 'final': 0.11926985340666713}, {'fro': 'leg', 'to': 'arm', 'type': 'AtLocation', 'score': 0.006929927971214056, 'wm_score': 0.61402243, 'final': 0.18905767857984987}, {'fro': 'nerve', 'to': 'arm', 'type': 'AtLocation', 'score': 0.005424333270639181, 'wm_score': 0.3912772, 'final': 0.12118019328944744}, {'fro': 'hurt', 'to': 'arm', 'type': 'AtLocation', 'score': 0.0038195226807147264, 'wm_score': 0.4444034, 'final': 0.13599468587650032}];
    let relation_types = [{'label': 'RelatedTo', 'info': 'The most general relation. There is some positive relationship between A and B, but ConceptNet cant determine what that relationship is based on the data. This was called ConceptuallyRelatedTo in ConceptNet 2 through 4. Symmetric.', 'mask': ''}, {'label': 'FormOf', 'info': 'A is an inflected form of B; B is the root word of A.', 'mask': ''}, {'label': 'IsA', 'info': 'A is a subtype or a specific instance of B; every A is a B. This can include specific instances; the distinction between subtypes and instances is often blurry in language. This is the hyponym relation in WordNet.', 'mask': ''}, {'label': 'PartOf', 'info': 'A is a part of B. This is the part meronym relation in WordNet.', 'mask': ''}, {'label': 'HasA', 'info': 'B belongs to A, either as an inherent part or due to a social construct of possession. HasA is often the reverse of PartOf.', 'mask': 'The OBJECT1 has a OBJECT2'}, {'label': 'UsedFor', 'info': 'A is used for B; the purpose of A is B.', 'mask': ''}, {'label': 'CapableOf', 'info': 'Something that A can typically do is B.', 'mask': ''}, {'label': 'AtLocation', 'info': 'A is a typical location for B, or A is the inherent location of B. Some instances of this would be considered meronyms in WordNet.', 'mask': 'A OBJECT1 is in the OBJECT2'}, {'label': 'Causes', 'info': 'A and B are events, and it is typical for A to cause B.', 'mask': ''}, {'label': 'HasSubevent', 'info': 'A and B are events, and B happens as a subevent of A.', 'mask': ''}, {'label': 'HasFirstSubevent', 'info': 'A is an event that begins with subevent B.', 'mask': ''}, {'label': 'HasLastSubevent', 'info': 'A is an event that concludes with subevent B.', 'mask': ''}, {'label': 'HasPrerequisite', 'info': 'In order for A to happen, B needs to happen; B is a dependency of A.', 'mask': ''}, {'label': 'HasProperty', 'info': 'A has B as a property; A can be described as B.', 'mask': ''}, {'label': 'MotivatedByGoal', 'info': 'Someone does A because they want result B; A is a step toward accomplishing the goal B.', 'mask': ''}, {'label': 'ObstructedBy', 'info': 'A is a goal that can be prevented by B; B is an obstacle in the way of A.', 'mask': ''}, {'label': 'Desires', 'info': 'A is a conscious entity that typically wants B. Many assertions of this type use the appropriate languages word for person as A.', 'mask': ''}, {'label': 'CreatedBy', 'info': 'B is a process or agent that creates A.', 'mask': ''}, {'label': 'Synonym', 'info': 'A and B have very similar meanings. They may be translations of each other in different languages. This is the synonym relation in WordNet as well. Symmetric.', 'mask': ''}, {'label': 'Antonym', 'info': 'A and B are opposites in some relevant way, such as being opposite ends of a scale, or fundamentally similar things with a key difference between them. Counterintuitively, two concepts must be quite similar before people consider them antonyms. This is the antonym relation in WordNet as well. Symmetric.', 'mask': ''}, {'label': 'DistinctFrom', 'info': 'A and B are distinct member of a set; something that is A is not B. Symmetric.', 'mask': ''}, {'label': 'DerivedFrom', 'info': 'A is a word or phrase that appears within B and contributes to Bs meaning.', 'mask': ''}, {'label': 'SymbolOf', 'info': 'A symbolically represents B.', 'mask': ''}, {'label': 'DefinedAs', 'info': 'A and B overlap considerably in meaning, and B is a more explanatory version of A.', 'mask': ''}, {'label': 'MannerOf', 'info': 'A is a specific way to do B. Similar to IsA, but for verbs.', 'mask': ''}, {'label': 'LocatedNear', 'info': 'A and B are typically found near each other. Symmetric.', 'mask': ''}, {'label': 'HasContext', 'info': 'A is a word used in the context of B, which could be a topic area, technical field, or regional dialect.', 'mask': ''}, {'label': 'SimilarTo', 'info': 'A is similar to B. Symmetric.', 'mask': ''}, {'label': 'EtymologicallyRelatedTo', 'info': 'A and B have a common origin. Symmetric.', 'mask': ''}, {'label': 'EtymologicallyDerivedFrom', 'info': 'A is derived from B.', 'mask': ''}, {'label': 'CausesDesire', 'info': 'A makes someone want B.', 'mask': ''}, {'label': 'MadeOf', 'info': 'A is made of B.', 'mask': ''}, {'label': 'ReceivesAction', 'info': 'B can be done to A.', 'mask': ''}];

        function fillHTML(sortBy) {
        document.getElementById("relations").innerHTML = "";

        relation_types.forEach(r => {
            let frels_from = relations.filter(rel => rel.type === r.label && rel.fro === name);
            let title_from = r.mask.replace("OBJECT1", name).replace("OBJECT2", "...");
            generateList(r, sortBy, frels_from.map(frel => {
                return {label: frel.to, ...frel}
            }), title_from);
            let frels_to = relations.filter(rel => rel.type === r.label && rel.to === name);
            let title_to = r.mask.replace("OBJECT1", "...").replace("OBJECT2", name);
            generateList(r, sortBy, frels_to.map(frel => {
                return {label: frel.fro, ...frel}
            }), title_to);

        })
    }

    function generateList(r, sortBy, frels, title) {
        if (frels.length > 0) {
            frels = frels.sort(sortBy);
            let str = `<div class="rel-container"><h2>${title}</h2>`
            str += `<div class="rel-item caption"><a>Name</a>
                            <div class="scores">
                            <span  onclick="fillHTML(sortByBERT)">BERT</span>
                            <span onclick="fillHTML(sortByW2V)">W2V</span>
                            <span  onclick="fillHTML(sortByFinal)">Score</span></div></div>`
            str += "<div>" + frels.map(frel => {
                let score = parseFloat(frel.score).toFixed(3);
                let wm_score = parseFloat(frel.wm_score).toFixed(3);
                let interpolated_score = frel.final.toFixed(3);
                return `<div class="rel-item"><a href="${frel.label}.html">${frel.label}</a>
                            <div class="scores"><span>${score}</span>
                            <span>${wm_score}</span>
                            <span>${interpolated_score}</span></div></div>`
            }).join("\n") + " </div></div>"
            document.getElementById("relations").insertAdjacentHTML("beforeend", str)
        }
    }

    function sortByFinal(fr1, fr2) {
        return fr2.final - fr1.final;
    }

    function sortByBERT(fr1, fr2) {
        return fr2.score - fr1.score;
    }

    function sortByW2V(fr1, fr2) {
        return fr2.wm_score - fr1.wm_score;
    }

    fillHTML(sortByFinal)
</script>
</html>

