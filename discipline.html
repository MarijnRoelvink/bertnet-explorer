<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>BertNet</title>
    <style>
         #relations {
             display: flex;
             flex-wrap: wrap;
         }

         .rel-container {
             width: fit-content;
             margin: 0 20px;
         }

         #title {
             text-transform: capitalize;
         }

         .rel-item, .scores {
             display: flex;
             justify-content: space-between;
         }

         .rel-item a {
             margin-right: 15px;
         }

         .scores span {
             width: 50px;
             text-align: center;
         }

         .caption {
             font-weight: bold;
         }

         .caption .scores {
             cursor: pointer;
         }
    </style>
</head>
<body>
<h1 id="title">discipline</h1>
<div id="relations"></div>
</body>
<script>
    let name = "discipline"
    let relations = [{'fro': 'sport', 'to': 'discipline', 'type': 'HasA', 'score': 0.013253646902740002, 'wm_score': 0.46331304, 'final': 0.14827146483191803}, {'fro': 'ncaa', 'to': 'discipline', 'type': 'HasA', 'score': 0.010466126725077629, 'wm_score': 0.31982177, 'final': 0.10327281970755435}, {'fro': 'academy', 'to': 'discipline', 'type': 'HasA', 'score': 0.008768877014517784, 'wm_score': 0.315832, 'final': 0.10088781391016247}, {'fro': 'judiciary', 'to': 'discipline', 'type': 'HasA', 'score': 0.007933761924505234, 'wm_score': 0.3795351, 'final': 0.11941416334715368}, {'fro': 'athlete', 'to': 'discipline', 'type': 'HasA', 'score': 0.006125890649855137, 'wm_score': 0.39838246, 'final': 0.1238028614548986}, {'fro': 'school', 'to': 'discipline', 'type': 'HasA', 'score': 0.005896006245166063, 'wm_score': 0.38177305, 'final': 0.11865911937161626}, {'fro': 'state', 'to': 'discipline', 'type': 'HasA', 'score': 0.005791591480374336, 'wm_score': 0.3486029, 'final': 0.10863498403626205}, {'fro': 'military', 'to': 'discipline', 'type': 'HasA', 'score': 0.005646859295666218, 'wm_score': 0.37472868, 'final': 0.11637140550696635}, {'fro': 'law', 'to': 'discipline', 'type': 'HasA', 'score': 0.005390622187405825, 'wm_score': 0.46966526, 'final': 0.1446730135311841}, {'fro': 'game', 'to': 'discipline', 'type': 'HasA', 'score': 0.005183272995054722, 'wm_score': 0.38077703, 'final': 0.11786140009653834}, {'fro': 'teacher', 'to': 'discipline', 'type': 'HasA', 'score': 0.0047948043793439865, 'wm_score': 0.40316263, 'final': 0.12430515206554082}, {'fro': 'ioc', 'to': 'discipline', 'type': 'HasA', 'score': 0.004386232700198889, 'wm_score': 0.3622082, 'final': 0.11173282289013924}, {'fro': 'system', 'to': 'discipline', 'type': 'HasA', 'score': 0.00424541998654604, 'wm_score': 0.45396212, 'final': 0.13916042999058226}, {'fro': 'government', 'to': 'discipline', 'type': 'HasA', 'score': 0.0033362414687871933, 'wm_score': 0.39564726, 'final': 0.12102954702815105}, {'fro': 'board', 'to': 'discipline', 'type': 'HasA', 'score': 0.003312534885481, 'wm_score': 0.3764054, 'final': 0.11524039441983672}, {'fro': 'discipline', 'to': 'future', 'type': 'HasA', 'score': 0.03069392591714859, 'wm_score': 0.36465868, 'final': 0.13088335214200403}, {'fro': 'discipline', 'to': 'history', 'type': 'HasA', 'score': 0.028048228472471237, 'wm_score': 0.46617153, 'final': 0.15948521893072987}, {'fro': 'discipline', 'to': 'consequence', 'type': 'HasA', 'score': 0.026124654337763786, 'wm_score': 0.3617163, 'final': 0.12680214803643466}, {'fro': 'discipline', 'to': 'precedent', 'type': 'HasA', 'score': 0.025242431089282036, 'wm_score': 0.3458577, 'final': 0.12142701176249744}, {'fro': 'discipline', 'to': 'problem', 'type': 'HasA', 'score': 0.024543294683098793, 'wm_score': 0.418554, 'final': 0.14274650627816918}, {'fro': 'discipline', 'to': 'limit', 'type': 'HasA', 'score': 0.02289707586169243, 'wm_score': 0.37483293, 'final': 0.12847783210318472}, {'fro': 'discipline', 'to': 'hierarchy', 'type': 'HasA', 'score': 0.02027168497443199, 'wm_score': 0.539368, 'final': 0.1760005794821024}, {'fro': 'discipline', 'to': 'remedy', 'type': 'HasA', 'score': 0.017685139551758766, 'wm_score': 0.36291698, 'final': 0.12125469168623115}, {'fro': 'discipline', 'to': 'reputation', 'type': 'HasA', 'score': 0.013474137522280216, 'wm_score': 0.5109929, 'final': 0.16272976626559615}, {'fro': 'discipline', 'to': 'purpose', 'type': 'HasA', 'score': 0.010100135579705238, 'wm_score': 0.4784696, 'final': 0.15061097490579367}, {'fro': 'discipline', 'to': 'role', 'type': 'HasA', 'score': 0.009916813112795353, 'wm_score': 0.41431135, 'final': 0.13123517417895678}, {'fro': 'discipline', 'to': 'priority', 'type': 'HasA', 'score': 0.007662592921406031, 'wm_score': 0.45545304, 'final': 0.14199972704498426}, {'fro': 'discipline', 'to': 'challenge', 'type': 'HasA', 'score': 0.007347605191171169, 'wm_score': 0.4404317, 'final': 0.1372728336338198}, {'fro': 'discipline', 'to': 'review', 'type': 'HasA', 'score': 0.00545522291213274, 'wm_score': 0.3893625, 'final': 0.12062740603849294}, {'fro': 'discipline', 'to': 'budget', 'type': 'HasA', 'score': 0.004677455872297287, 'wm_score': 0.32693386, 'final': 0.10135437711060812}, {'fro': 'discipline', 'to': 'choice', 'type': 'HasA', 'score': 0.004581271670758724, 'wm_score': 0.3725172, 'final': 0.11496205016953112}, {'fro': 'discipline', 'to': 'response', 'type': 'HasA', 'score': 0.004505503922700882, 'wm_score': 0.34619498, 'final': 0.10701234674589062}, {'fro': 'discipline', 'to': 'cost', 'type': 'HasA', 'score': 0.004485901910811663, 'wm_score': 0.33809823, 'final': 0.10456960033756817}, {'fro': 'discipline', 'to': 'difference', 'type': 'HasA', 'score': 0.004248337354511023, 'wm_score': 0.38624227, 'final': 0.11884651714815773}, {'fro': 'discipline', 'to': 'chance', 'type': 'HasA', 'score': 0.004127257503569126, 'wm_score': 0.3401971, 'final': 0.1049482102524984}, {'fro': 'discipline', 'to': 'responsibility', 'type': 'HasA', 'score': 0.0035348664969205856, 'wm_score': 0.5576175, 'final': 0.16975965654784445}, {'fro': 'discipline', 'to': 'change', 'type': 'HasA', 'score': 0.003506926354020834, 'wm_score': 0.4440224, 'final': 0.1356615684478146}, {'fro': 'penalty', 'to': 'discipline', 'type': 'AtLocation', 'score': 0.06479078531265259, 'wm_score': 0.28710774, 'final': 0.1314858717188568}, {'fro': 'lesson', 'to': 'discipline', 'type': 'AtLocation', 'score': 0.020018449053168297, 'wm_score': 0.45962816, 'final': 0.15190136233721782}, {'fro': 'punishment', 'to': 'discipline', 'type': 'AtLocation', 'score': 0.019052181392908096, 'wm_score': 0.53750944, 'final': 0.1745893589750357}, {'fro': 'change', 'to': 'discipline', 'type': 'AtLocation', 'score': 0.012445715256035328, 'wm_score': 0.4440224, 'final': 0.14191872067922476}, {'fro': 'suspension', 'to': 'discipline', 'type': 'AtLocation', 'score': 0.011641222052276134, 'wm_score': 0.37947235, 'final': 0.12199056043659331}, {'fro': 'violation', 'to': 'discipline', 'type': 'AtLocation', 'score': 0.011021235957741737, 'wm_score': 0.36760634, 'final': 0.11799676717041924}, {'fro': 'teacher', 'to': 'discipline', 'type': 'AtLocation', 'score': 0.008202278055250645, 'wm_score': 0.40316263, 'final': 0.1266903836386755}, {'fro': 'student', 'to': 'discipline', 'type': 'AtLocation', 'score': 0.008183900266885757, 'wm_score': 0.37925568, 'final': 0.11950543418682004}, {'fro': 'failure', 'to': 'discipline', 'type': 'AtLocation', 'score': 0.006926027126610279, 'wm_score': 0.3992361, 'final': 0.1246190489886272}, {'fro': 'difference', 'to': 'discipline', 'type': 'AtLocation', 'score': 0.006155214738100767, 'wm_score': 0.38624227, 'final': 0.12018133131667055}, {'fro': 'problem', 'to': 'discipline', 'type': 'AtLocation', 'score': 0.005576822441071272, 'wm_score': 0.418554, 'final': 0.1294699757087499}, {'fro': 'medal', 'to': 'discipline', 'type': 'AtLocation', 'score': 0.004422839730978012, 'wm_score': 0.3542204, 'final': 0.10936210781168462}, {'fro': 'risk', 'to': 'discipline', 'type': 'AtLocation', 'score': 0.0043897139839828014, 'wm_score': 0.3874399, 'final': 0.11930476978878798}, {'fro': 'crime', 'to': 'discipline', 'type': 'AtLocation', 'score': 0.004298434127122164, 'wm_score': 0.3763783, 'final': 0.11592239388898554}, {'fro': 'breach', 'to': 'discipline', 'type': 'AtLocation', 'score': 0.004095248878002167, 'wm_score': 0.3496791, 'final': 0.10777040421460155}, {'fro': 'challenge', 'to': 'discipline', 'type': 'AtLocation', 'score': 0.003985375631600618, 'wm_score': 0.4404317, 'final': 0.13491927294212044}, {'fro': 'shame', 'to': 'discipline', 'type': 'AtLocation', 'score': 0.0039849900640547276, 'wm_score': 0.38526666, 'final': 0.11836949104483832}, {'fro': 'charge', 'to': 'discipline', 'type': 'AtLocation', 'score': 0.003826599335297942, 'wm_score': 0.3840788, 'final': 0.11790225953470858}, {'fro': 'child', 'to': 'discipline', 'type': 'AtLocation', 'score': 0.0036666591186076403, 'wm_score': 0.34477344, 'final': 0.10599869338302535}, {'fro': 'distinction', 'to': 'discipline', 'type': 'AtLocation', 'score': 0.0036555370315909386, 'wm_score': 0.4012971, 'final': 0.12294800592211368}, {'fro': 'horse', 'to': 'discipline', 'type': 'AtLocation', 'score': 0.003627463011071086, 'wm_score': 0.32602078, 'final': 0.10034545810774978}, {'fro': 'break', 'to': 'discipline', 'type': 'AtLocation', 'score': 0.003562208963558078, 'wm_score': 0.38105464, 'final': 0.11680993827449067}, {'fro': 'specialist', 'to': 'discipline', 'type': 'AtLocation', 'score': 0.0034974729642271996, 'wm_score': 0.3453763, 'final': 0.10606112107495906}, {'fro': 'caution', 'to': 'discipline', 'type': 'AtLocation', 'score': 0.0034319802653044462, 'wm_score': 0.43980163, 'final': 0.13434287518571314}, {'fro': 'discipline', 'to': 'works', 'type': 'AtLocation', 'score': 0.19241079688072205, 'wm_score': 0.32975155, 'final': 0.23361302281650545}, {'fro': 'discipline', 'to': 'making', 'type': 'AtLocation', 'score': 0.12447452545166016, 'wm_score': 0.36862537, 'final': 0.19771977881616212}, {'fro': 'discipline', 'to': 'air', 'type': 'AtLocation', 'score': 0.0891445130109787, 'wm_score': 0.17932151, 'final': 0.11619761210768509}, {'fro': 'discipline', 'to': 'balance', 'type': 'AtLocation', 'score': 0.024383097887039185, 'wm_score': 0.5408807, 'final': 0.17933237852092745}, {'fro': 'discipline', 'to': 'future', 'type': 'AtLocation', 'score': 0.012146479450166225, 'wm_score': 0.36465868, 'final': 0.11790013961511638}, {'fro': 'discipline', 'to': 'way', 'type': 'AtLocation', 'score': 0.0092630535364151, 'wm_score': 0.42160603, 'final': 0.1329659464754906}, {'fro': 'discipline', 'to': 'past', 'type': 'AtLocation', 'score': 0.008702314458787441, 'wm_score': 0.3665617, 'final': 0.11606013012115123}, {'fro': 'discipline', 'to': 'process', 'type': 'AtLocation', 'score': 0.007184920366853476, 'wm_score': 0.40417537, 'final': 0.12628205525679745}, {'fro': 'discipline', 'to': 'system', 'type': 'AtLocation', 'score': 0.007181453984230757, 'wm_score': 0.45396212, 'final': 0.14121565378896156}, {'fro': 'discipline', 'to': 'classroom', 'type': 'AtLocation', 'score': 0.006754424888640642, 'wm_score': 0.3655544, 'final': 0.11439441742204846}, {'fro': 'discipline', 'to': 'breach', 'type': 'AtLocation', 'score': 0.0065520345233380795, 'wm_score': 0.3496791, 'final': 0.10949015416633669}, {'fro': 'discipline', 'to': 'curriculum', 'type': 'AtLocation', 'score': 0.005157662555575371, 'wm_score': 0.51293135, 'final': 0.15748976878890278}, {'fro': 'discipline', 'to': 'workplace', 'type': 'AtLocation', 'score': 0.004148505628108978, 'wm_score': 0.4530342, 'final': 0.13881421393967633}, {'fro': 'discipline', 'to': 'background', 'type': 'AtLocation', 'score': 0.00395978894084692, 'wm_score': 0.3488086, 'final': 0.10741443225859287}, {'fro': 'discipline', 'to': 'order', 'type': 'AtLocation', 'score': 0.003944858908653259, 'wm_score': 0.51956785, 'final': 0.15863175623605733}, {'fro': 'discipline', 'to': 'act', 'type': 'AtLocation', 'score': 0.0034748343750834465, 'wm_score': 0.3904125, 'final': 0.11955613406255843}, {'fro': 'discipline', 'to': 'game', 'type': 'AtLocation', 'score': 0.0027618168387562037, 'wm_score': 0.38077703, 'final': 0.11616638078712938}, {'fro': 'discipline', 'to': 'law', 'type': 'AtLocation', 'score': 0.0027396788354963064, 'wm_score': 0.46966526, 'final': 0.14281735318484745}, {'fro': 'discipline', 'to': 'running', 'type': 'AtLocation', 'score': 0.0026651350781321526, 'wm_score': 0.3328716, 'final': 0.10172707455469253}, {'fro': 'degree', 'to': 'discipline', 'type': 'AtLocation', 'score': 0.009554581716656685, 'wm_score': 0.41159633, 'final': 0.1301671062016597}];
    let relation_types = [{'label': 'RelatedTo', 'info': 'The most general relation. There is some positive relationship between A and B, but ConceptNet cant determine what that relationship is based on the data. This was called ConceptuallyRelatedTo in ConceptNet 2 through 4. Symmetric.', 'mask': ''}, {'label': 'FormOf', 'info': 'A is an inflected form of B; B is the root word of A.', 'mask': ''}, {'label': 'IsA', 'info': 'A is a subtype or a specific instance of B; every A is a B. This can include specific instances; the distinction between subtypes and instances is often blurry in language. This is the hyponym relation in WordNet.', 'mask': ''}, {'label': 'PartOf', 'info': 'A is a part of B. This is the part meronym relation in WordNet.', 'mask': ''}, {'label': 'HasA', 'info': 'B belongs to A, either as an inherent part or due to a social construct of possession. HasA is often the reverse of PartOf.', 'mask': 'The OBJECT1 has a OBJECT2'}, {'label': 'UsedFor', 'info': 'A is used for B; the purpose of A is B.', 'mask': ''}, {'label': 'CapableOf', 'info': 'Something that A can typically do is B.', 'mask': ''}, {'label': 'AtLocation', 'info': 'A is a typical location for B, or A is the inherent location of B. Some instances of this would be considered meronyms in WordNet.', 'mask': 'A OBJECT1 is in the OBJECT2'}, {'label': 'Causes', 'info': 'A and B are events, and it is typical for A to cause B.', 'mask': ''}, {'label': 'HasSubevent', 'info': 'A and B are events, and B happens as a subevent of A.', 'mask': ''}, {'label': 'HasFirstSubevent', 'info': 'A is an event that begins with subevent B.', 'mask': ''}, {'label': 'HasLastSubevent', 'info': 'A is an event that concludes with subevent B.', 'mask': ''}, {'label': 'HasPrerequisite', 'info': 'In order for A to happen, B needs to happen; B is a dependency of A.', 'mask': ''}, {'label': 'HasProperty', 'info': 'A has B as a property; A can be described as B.', 'mask': ''}, {'label': 'MotivatedByGoal', 'info': 'Someone does A because they want result B; A is a step toward accomplishing the goal B.', 'mask': ''}, {'label': 'ObstructedBy', 'info': 'A is a goal that can be prevented by B; B is an obstacle in the way of A.', 'mask': ''}, {'label': 'Desires', 'info': 'A is a conscious entity that typically wants B. Many assertions of this type use the appropriate languages word for person as A.', 'mask': ''}, {'label': 'CreatedBy', 'info': 'B is a process or agent that creates A.', 'mask': ''}, {'label': 'Synonym', 'info': 'A and B have very similar meanings. They may be translations of each other in different languages. This is the synonym relation in WordNet as well. Symmetric.', 'mask': ''}, {'label': 'Antonym', 'info': 'A and B are opposites in some relevant way, such as being opposite ends of a scale, or fundamentally similar things with a key difference between them. Counterintuitively, two concepts must be quite similar before people consider them antonyms. This is the antonym relation in WordNet as well. Symmetric.', 'mask': ''}, {'label': 'DistinctFrom', 'info': 'A and B are distinct member of a set; something that is A is not B. Symmetric.', 'mask': ''}, {'label': 'DerivedFrom', 'info': 'A is a word or phrase that appears within B and contributes to Bs meaning.', 'mask': ''}, {'label': 'SymbolOf', 'info': 'A symbolically represents B.', 'mask': ''}, {'label': 'DefinedAs', 'info': 'A and B overlap considerably in meaning, and B is a more explanatory version of A.', 'mask': ''}, {'label': 'MannerOf', 'info': 'A is a specific way to do B. Similar to IsA, but for verbs.', 'mask': ''}, {'label': 'LocatedNear', 'info': 'A and B are typically found near each other. Symmetric.', 'mask': ''}, {'label': 'HasContext', 'info': 'A is a word used in the context of B, which could be a topic area, technical field, or regional dialect.', 'mask': ''}, {'label': 'SimilarTo', 'info': 'A is similar to B. Symmetric.', 'mask': ''}, {'label': 'EtymologicallyRelatedTo', 'info': 'A and B have a common origin. Symmetric.', 'mask': ''}, {'label': 'EtymologicallyDerivedFrom', 'info': 'A is derived from B.', 'mask': ''}, {'label': 'CausesDesire', 'info': 'A makes someone want B.', 'mask': ''}, {'label': 'MadeOf', 'info': 'A is made of B.', 'mask': ''}, {'label': 'ReceivesAction', 'info': 'B can be done to A.', 'mask': ''}];

        function fillHTML(sortBy) {
        document.getElementById("relations").innerHTML = "";

        relation_types.forEach(r => {
            let frels_from = relations.filter(rel => rel.type === r.label && rel.fro === name);
            let title_from = r.mask.replace("OBJECT1", name).replace("OBJECT2", "...");
            generateList(r, sortBy, frels_from.map(frel => {
                return {label: frel.to, ...frel}
            }), title_from);
            let frels_to = relations.filter(rel => rel.type === r.label && rel.to === name);
            let title_to = r.mask.replace("OBJECT1", "...").replace("OBJECT2", name);
            generateList(r, sortBy, frels_to.map(frel => {
                return {label: frel.fro, ...frel}
            }), title_to);

        })
    }

    function generateList(r, sortBy, frels, title) {
        if (frels.length > 0) {
            frels = frels.sort(sortBy);
            let str = `<div class="rel-container"><h2>${title}</h2>`
            str += `<div class="rel-item caption"><a>Name</a>
                            <div class="scores">
                            <span  onclick="fillHTML(sortByBERT)">BERT</span>
                            <span onclick="fillHTML(sortByW2V)">W2V</span>
                            <span  onclick="fillHTML(sortByFinal)">Score</span></div></div>`
            str += "<div>" + frels.map(frel => {
                let score = parseFloat(frel.score).toFixed(3);
                let wm_score = parseFloat(frel.wm_score).toFixed(3);
                let interpolated_score = frel.final.toFixed(3);
                return `<div class="rel-item"><a href="${frel.label}.html">${frel.label}</a>
                            <div class="scores"><span>${score}</span>
                            <span>${wm_score}</span>
                            <span>${interpolated_score}</span></div></div>`
            }).join("\n") + " </div></div>"
            document.getElementById("relations").insertAdjacentHTML("beforeend", str)
        }
    }

    function sortByFinal(fr1, fr2) {
        return fr2.final - fr1.final;
    }

    function sortByBERT(fr1, fr2) {
        return fr2.score - fr1.score;
    }

    function sortByW2V(fr1, fr2) {
        return fr2.wm_score - fr1.wm_score;
    }

    fillHTML(sortByFinal)
</script>
</html>

