<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>BertNet</title>
    <style>
         #relations {
             display: flex;
             flex-wrap: wrap;
         }

         .rel-container {
             width: fit-content;
             margin: 0 20px;
         }

         #title {
             text-transform: capitalize;
         }

         .rel-item, .scores {
             display: flex;
             justify-content: space-between;
         }

         .rel-item a {
             margin-right: 15px;
         }

         .scores span {
             width: 50px;
             text-align: center;
         }

         .caption {
             font-weight: bold;
         }

         .caption .scores {
             cursor: pointer;
         }
    </style>
</head>
<body>
<h1 id="title">council</h1>
<div id="relations"></div>
</body>
<script>
    let name = "council"
    let relations = [{'fro': 'council', 'to': 'area', 'type': 'HasA', 'score': 0.0047720083966851234, 'wm_score': 0.4727692, 'final': 0.14517116587767961}, {'fro': 'council', 'to': 'management', 'type': 'HasA', 'score': 0.0027502707671374083, 'wm_score': 0.48222077, 'final': 0.14659142053699623}, {'fro': 'council', 'to': 'department', 'type': 'HasA', 'score': 0.005392170045524836, 'wm_score': 0.5879344, 'final': 0.18015483903186738}, {'fro': 'council', 'to': 'decision', 'type': 'HasA', 'score': 0.030629247426986694, 'wm_score': 0.62727666, 'final': 0.20962347119889074}, {'fro': 'council', 'to': 'office', 'type': 'HasA', 'score': 0.004403937142342329, 'wm_score': 0.62172514, 'final': 0.18960029799963968}, {'fro': 'council', 'to': 'association', 'type': 'HasA', 'score': 0.005239406600594521, 'wm_score': 0.6289002, 'final': 0.1923376446204162}, {'fro': 'council', 'to': 'housing', 'type': 'HasA', 'score': 0.006507413927465677, 'wm_score': 0.37460455, 'final': 0.11693655474922598}, {'fro': 'council', 'to': 'responsibility', 'type': 'HasA', 'score': 0.004668299574404955, 'wm_score': 0.4635374, 'final': 0.14232902970208347}, {'fro': 'council', 'to': 'county', 'type': 'HasA', 'score': 0.004229703452438116, 'wm_score': 0.5102143, 'final': 0.1560250824167067}, {'fro': 'council', 'to': 'secretary', 'type': 'HasA', 'score': 0.017585525289177895, 'wm_score': 0.65196157, 'final': 0.20789833870242455}, {'fro': 'council', 'to': 'complaint', 'type': 'HasA', 'score': 0.015012871474027634, 'wm_score': 0.41378903, 'final': 0.13464571903181938}, {'fro': 'council', 'to': 'agreement', 'type': 'HasA', 'score': 0.011074463836848736, 'wm_score': 0.5279533, 'final': 0.16613811468579412}, {'fro': 'council', 'to': 'election', 'type': 'HasA', 'score': 0.009281765669584274, 'wm_score': 0.54804736, 'final': 0.170911443968709}, {'fro': 'council', 'to': 'guidance', 'type': 'HasA', 'score': 0.005147682968527079, 'wm_score': 0.43754613, 'final': 0.13486721707796898}, {'fro': 'council', 'to': 'candidate', 'type': 'HasA', 'score': 0.006613634526729584, 'wm_score': 0.40987897, 'final': 0.12759323516871074}, {'fro': 'council', 'to': 'charity', 'type': 'HasA', 'score': 0.004628276452422142, 'wm_score': 0.3295765, 'final': 0.10211274351669551}, {'fro': 'council', 'to': 'presentation', 'type': 'HasA', 'score': 0.0038509895093739033, 'wm_score': 0.32611454, 'final': 0.10053005465656176}, {'fro': 'council', 'to': 'resolution', 'type': 'HasA', 'score': 0.04843701049685478, 'wm_score': 0.6477257, 'final': 0.22822361734779834}, {'fro': 'resolution', 'to': 'council', 'type': 'AtLocation', 'score': 0.00039638319867663085, 'wm_score': 0.6477257, 'final': 0.19459517823907366}, {'fro': 'council', 'to': 'session', 'type': 'HasA', 'score': 0.041134629398584366, 'wm_score': 0.47740716, 'final': 0.17201638857900908}, {'fro': 'council', 'to': 'hearing', 'type': 'HasA', 'score': 0.007831331342458725, 'wm_score': 0.47195235, 'final': 0.14706763693972114}, {'fro': 'council', 'to': 'initiative', 'type': 'HasA', 'score': 0.006010850425809622, 'wm_score': 0.5668311, 'final': 0.17425692529806677}, {'fro': 'council', 'to': 'judgment', 'type': 'HasA', 'score': 0.006887218914926052, 'wm_score': 0.34360865, 'final': 0.10790364824044825}, {'fro': 'council', 'to': 'police', 'type': 'HasA', 'score': 0.004278843756765127, 'wm_score': 0.42132115, 'final': 0.1293915356297356}, {'fro': 'council', 'to': 'appointment', 'type': 'HasA', 'score': 0.007766161113977432, 'wm_score': 0.58304954, 'final': 0.18035117477978424}, {'fro': 'council', 'to': 'committee', 'type': 'HasA', 'score': 0.02705402672290802, 'wm_score': 0.7559223, 'final': 0.24571450870603567}, {'fro': 'council', 'to': 'proposal', 'type': 'HasA', 'score': 0.03649310767650604, 'wm_score': 0.58736473, 'final': 0.20175459437355425}, {'fro': 'council', 'to': 'warning', 'type': 'HasA', 'score': 0.004529688041657209, 'wm_score': 0.39176905, 'final': 0.12070149662916006}, {'fro': 'council', 'to': 'examination', 'type': 'HasA', 'score': 0.0054340483620762825, 'wm_score': 0.38031596, 'final': 0.11789862185345341}, {'fro': 'council', 'to': 'inspection', 'type': 'HasA', 'score': 0.0035885621327906847, 'wm_score': 0.49324402, 'final': 0.1504851994929535}, {'fro': 'council', 'to': 'inspector', 'type': 'HasA', 'score': 0.01168464869260788, 'wm_score': 0.42950666, 'final': 0.13703125208482553}, {'fro': 'council', 'to': 'intention', 'type': 'HasA', 'score': 0.003724882612004876, 'wm_score': 0.43240625, 'final': 0.13232929282840342}, {'fro': 'council', 'to': 'negotiation', 'type': 'HasA', 'score': 0.005710525903850794, 'wm_score': 0.38818282, 'final': 0.12045221413269556}, {'fro': 'council', 'to': 'youth', 'type': 'HasA', 'score': 0.004448462277650833, 'wm_score': 0.50017875, 'final': 0.1531675485943556}, {'fro': 'council', 'to': 'process', 'type': 'HasA', 'score': 0.0068496400490403175, 'wm_score': 0.46823785, 'final': 0.14526610303432824}, {'fro': 'council', 'to': 'order', 'type': 'HasA', 'score': 0.004329504445195198, 'wm_score': 0.49985653, 'final': 0.15298761211163667}, {'fro': 'council', 'to': 'matter', 'type': 'HasA', 'score': 0.006238611415028572, 'wm_score': 0.4346095, 'final': 0.13474987799052002}, {'fro': 'council', 'to': 'plan', 'type': 'HasA', 'score': 0.007251569535583258, 'wm_score': 0.52639174, 'final': 0.1629936206749083}, {'fro': 'council', 'to': 'rule', 'type': 'HasA', 'score': 0.008733291178941727, 'wm_score': 0.4720475, 'final': 0.14772755382525923}, {'fro': 'council', 'to': 'act', 'type': 'HasA', 'score': 0.002981042955070734, 'wm_score': 0.53388554, 'final': 0.16225239206854952}, {'fro': 'council', 'to': 'step', 'type': 'HasA', 'score': 0.003871990367770195, 'wm_score': 0.45969325, 'final': 0.14061836825743915}, {'fro': 'council', 'to': 'notice', 'type': 'HasA', 'score': 0.008339043706655502, 'wm_score': 0.37090942, 'final': 0.11711015659465887}, {'fro': 'council', 'to': 'budget', 'type': 'HasA', 'score': 0.011430302634835243, 'wm_score': 0.46113402, 'final': 0.1463414178443847}, {'fro': 'council', 'to': 'officer', 'type': 'HasA', 'score': 0.004577145911753178, 'wm_score': 0.39426035, 'final': 0.12148210713822723}, {'fro': 'council', 'to': 'register', 'type': 'HasA', 'score': 0.0033505347091704607, 'wm_score': 0.3900639, 'final': 0.11936454429641934}, {'fro': 'council', 'to': 'joint', 'type': 'HasA', 'score': 0.005424573551863432, 'wm_score': 0.5118644, 'final': 0.15735652148630444}, {'fro': 'council', 'to': 'appeal', 'type': 'HasA', 'score': 0.007020076736807823, 'wm_score': 0.5055338, 'final': 0.1565741937157655}, {'fro': 'council', 'to': 'commission', 'type': 'HasA', 'score': 0.004825804848223925, 'wm_score': 0.7868534, 'final': 0.23943408339375677}, {'fro': 'council', 'to': 'seat', 'type': 'HasA', 'score': 0.00451648561283946, 'wm_score': 0.4653226, 'final': 0.14275831992898763}, {'fro': 'council', 'to': 'court', 'type': 'HasA', 'score': 0.00396742532029748, 'wm_score': 0.54916036, 'final': 0.16752530572420826}, {'fro': 'council', 'to': 'district', 'type': 'HasA', 'score': 0.019030587747693062, 'wm_score': 0.5413241, 'final': 0.17571864142338514}, {'fro': 'council', 'to': 'meeting', 'type': 'HasA', 'score': 0.06579698622226715, 'wm_score': 0.66256154, 'final': 0.24482635235558703}, {'fro': 'council', 'to': 'emergency', 'type': 'HasA', 'score': 0.01019335724413395, 'wm_score': 0.5051162, 'final': 0.1586702100708938}, {'fro': 'council', 'to': 'judge', 'type': 'HasA', 'score': 0.008329574950039387, 'wm_score': 0.44127196, 'final': 0.1382122904650276}, {'fro': 'council', 'to': 'bid', 'type': 'HasA', 'score': 0.009020933881402016, 'wm_score': 0.44453207, 'final': 0.13967427471698143}, {'fro': 'council', 'to': 'put', 'type': 'HasA', 'score': 0.004771857056766748, 'wm_score': 0.45065236, 'final': 0.13853600793973675}, {'fro': 'council', 'to': 'offer', 'type': 'HasA', 'score': 0.0050583756528794765, 'wm_score': 0.40638694, 'final': 0.12545694495701565}, {'fro': 'council', 'to': 'primary', 'type': 'HasA', 'score': 0.00388315343298018, 'wm_score': 0.4346401, 'final': 0.13311023740308614}, {'fro': 'council', 'to': 'necessary', 'type': 'HasA', 'score': 0.002693390706554055, 'wm_score': 0.45898506, 'final': 0.13958089149458786}, {'fro': 'council', 'to': 'reserve', 'type': 'HasA', 'score': 0.010392461903393269, 'wm_score': 0.4203434, 'final': 0.1333777433323753}, {'fro': 'council', 'to': 'junior', 'type': 'HasA', 'score': 0.003085601842030883, 'wm_score': 0.4030742, 'final': 0.12308218128942164}, {'fro': 'council', 'to': 'concern', 'type': 'HasA', 'score': 0.004278198350220919, 'wm_score': 0.46545747, 'final': 0.14263197984515466}, {'fro': 'council', 'to': 'meet', 'type': 'HasA', 'score': 0.005422416143119335, 'wm_score': 0.5351304, 'final': 0.16433481130018357}, {'fro': 'council', 'to': 'formal', 'type': 'HasA', 'score': 0.0062671541236341, 'wm_score': 0.48409033, 'final': 0.1496141068865439}, {'fro': 'council', 'to': 'split', 'type': 'HasA', 'score': 0.004156534560024738, 'wm_score': 0.37361997, 'final': 0.11499556519201734}, {'fro': 'council', 'to': 'representative', 'type': 'HasA', 'score': 0.0058180103078484535, 'wm_score': 0.65310764, 'final': 0.20000489921549394}, {'fro': 'council', 'to': 'temporary', 'type': 'HasA', 'score': 0.004787962883710861, 'wm_score': 0.40294576, 'final': 0.12423530201859762}, {'fro': 'council', 'to': 'say', 'type': 'HasA', 'score': 0.00623382069170475, 'wm_score': 0.41409153, 'final': 0.12859113348419335}, {'fro': 'council', 'to': 'veto', 'type': 'HasA', 'score': 0.011094842106103897, 'wm_score': 0.4951978, 'final': 0.15632572947427276}, {'fro': 'council', 'to': 'mandate', 'type': 'HasA', 'score': 0.011097175069153309, 'wm_score': 0.5678151, 'final': 0.17811255254840733}, {'fro': 'council', 'to': 'vote', 'type': 'HasA', 'score': 0.03585980087518692, 'wm_score': 0.5242115, 'final': 0.18236531061263087}, {'fro': 'council', 'to': 'minority', 'type': 'HasA', 'score': 0.0063341762870550156, 'wm_score': 0.38914835, 'final': 0.12117842840093852}, {'fro': 'council', 'to': 'interim', 'type': 'HasA', 'score': 0.008369994349777699, 'wm_score': 0.5594769, 'final': 0.17370206604484442}, {'fro': 'council', 'to': 'mayor', 'type': 'HasA', 'score': 0.012249331921339035, 'wm_score': 0.49361858, 'final': 0.15666010634493735}, {'fro': 'council', 'to': 'spokesman', 'type': 'HasA', 'score': 0.008282825350761414, 'wm_score': 0.4417995, 'final': 0.138337827745533}, {'fro': 'council', 'to': 'petition', 'type': 'HasA', 'score': 0.0057373326271772385, 'wm_score': 0.42798057, 'final': 0.1324103038390241}, {'fro': 'council', 'to': 'dispute', 'type': 'HasA', 'score': 0.007204699330031872, 'wm_score': 0.46548492, 'final': 0.14468876553102233}, {'fro': 'council', 'to': 'neighbourhood', 'type': 'HasA', 'score': 0.003836706280708313, 'wm_score': 0.35102266, 'final': 0.10799249239649583}, {'fro': 'council', 'to': 'constitution', 'type': 'HasA', 'score': 0.001933588646352291, 'wm_score': 0.51685846, 'final': 0.15641105005244663}, {'fro': 'council', 'to': 'majority', 'type': 'HasA', 'score': 0.002515520667657256, 'wm_score': 0.49713725, 'final': 0.15090203946736008}, {'fro': 'council', 'to': 'timetable', 'type': 'HasA', 'score': 0.00859361607581377, 'wm_score': 0.33503094, 'final': 0.10652481325306966}, {'fro': 'council', 'to': 'deadline', 'type': 'HasA', 'score': 0.00720389187335968, 'wm_score': 0.41966733, 'final': 0.1309429233113518}, {'fro': 'council', 'to': 'minister', 'type': 'HasA', 'score': 0.005777289159595966, 'wm_score': 0.50415826, 'final': 0.1552915804117172}, {'fro': 'council', 'to': 'talks', 'type': 'HasA', 'score': 0.010240612551569939, 'wm_score': 0.4804728, 'final': 0.151310268786099}];
    let relation_types = [{'label': 'RelatedTo', 'info': 'The most general relation. There is some positive relationship between A and B, but ConceptNet cant determine what that relationship is based on the data. This was called ConceptuallyRelatedTo in ConceptNet 2 through 4. Symmetric.', 'mask': ''}, {'label': 'FormOf', 'info': 'A is an inflected form of B; B is the root word of A.', 'mask': ''}, {'label': 'IsA', 'info': 'A is a subtype or a specific instance of B; every A is a B. This can include specific instances; the distinction between subtypes and instances is often blurry in language. This is the hyponym relation in WordNet.', 'mask': ''}, {'label': 'PartOf', 'info': 'A is a part of B. This is the part meronym relation in WordNet.', 'mask': ''}, {'label': 'HasA', 'info': 'B belongs to A, either as an inherent part or due to a social construct of possession. HasA is often the reverse of PartOf.', 'mask': 'The OBJECT1 has a OBJECT2'}, {'label': 'UsedFor', 'info': 'A is used for B; the purpose of A is B.', 'mask': ''}, {'label': 'CapableOf', 'info': 'Something that A can typically do is B.', 'mask': ''}, {'label': 'AtLocation', 'info': 'A is a typical location for B, or A is the inherent location of B. Some instances of this would be considered meronyms in WordNet.', 'mask': 'A OBJECT1 is in the OBJECT2'}, {'label': 'Causes', 'info': 'A and B are events, and it is typical for A to cause B.', 'mask': ''}, {'label': 'HasSubevent', 'info': 'A and B are events, and B happens as a subevent of A.', 'mask': ''}, {'label': 'HasFirstSubevent', 'info': 'A is an event that begins with subevent B.', 'mask': ''}, {'label': 'HasLastSubevent', 'info': 'A is an event that concludes with subevent B.', 'mask': ''}, {'label': 'HasPrerequisite', 'info': 'In order for A to happen, B needs to happen; B is a dependency of A.', 'mask': ''}, {'label': 'HasProperty', 'info': 'A has B as a property; A can be described as B.', 'mask': ''}, {'label': 'MotivatedByGoal', 'info': 'Someone does A because they want result B; A is a step toward accomplishing the goal B.', 'mask': ''}, {'label': 'ObstructedBy', 'info': 'A is a goal that can be prevented by B; B is an obstacle in the way of A.', 'mask': ''}, {'label': 'Desires', 'info': 'A is a conscious entity that typically wants B. Many assertions of this type use the appropriate languages word for person as A.', 'mask': ''}, {'label': 'CreatedBy', 'info': 'B is a process or agent that creates A.', 'mask': ''}, {'label': 'Synonym', 'info': 'A and B have very similar meanings. They may be translations of each other in different languages. This is the synonym relation in WordNet as well. Symmetric.', 'mask': ''}, {'label': 'Antonym', 'info': 'A and B are opposites in some relevant way, such as being opposite ends of a scale, or fundamentally similar things with a key difference between them. Counterintuitively, two concepts must be quite similar before people consider them antonyms. This is the antonym relation in WordNet as well. Symmetric.', 'mask': ''}, {'label': 'DistinctFrom', 'info': 'A and B are distinct member of a set; something that is A is not B. Symmetric.', 'mask': ''}, {'label': 'DerivedFrom', 'info': 'A is a word or phrase that appears within B and contributes to Bs meaning.', 'mask': ''}, {'label': 'SymbolOf', 'info': 'A symbolically represents B.', 'mask': ''}, {'label': 'DefinedAs', 'info': 'A and B overlap considerably in meaning, and B is a more explanatory version of A.', 'mask': ''}, {'label': 'MannerOf', 'info': 'A is a specific way to do B. Similar to IsA, but for verbs.', 'mask': ''}, {'label': 'LocatedNear', 'info': 'A and B are typically found near each other. Symmetric.', 'mask': ''}, {'label': 'HasContext', 'info': 'A is a word used in the context of B, which could be a topic area, technical field, or regional dialect.', 'mask': ''}, {'label': 'SimilarTo', 'info': 'A is similar to B. Symmetric.', 'mask': ''}, {'label': 'EtymologicallyRelatedTo', 'info': 'A and B have a common origin. Symmetric.', 'mask': ''}, {'label': 'EtymologicallyDerivedFrom', 'info': 'A is derived from B.', 'mask': ''}, {'label': 'CausesDesire', 'info': 'A makes someone want B.', 'mask': ''}, {'label': 'MadeOf', 'info': 'A is made of B.', 'mask': ''}, {'label': 'ReceivesAction', 'info': 'B can be done to A.', 'mask': ''}];

        function fillHTML(sortBy) {
        document.getElementById("relations").innerHTML = "";

        relation_types.forEach(r => {
            let frels_from = relations.filter(rel => rel.type === r.label && rel.fro === name);
            let title_from = r.mask.replace("OBJECT1", name).replace("OBJECT2", "...");
            generateList(r, sortBy, frels_from.map(frel => {
                return {label: frel.to, ...frel}
            }), title_from);
            let frels_to = relations.filter(rel => rel.type === r.label && rel.to === name);
            let title_to = r.mask.replace("OBJECT1", "...").replace("OBJECT2", name);
            generateList(r, sortBy, frels_to.map(frel => {
                return {label: frel.fro, ...frel}
            }), title_to);

        })
    }

    function generateList(r, sortBy, frels, title) {
        if (frels.length > 0) {
            frels = frels.sort(sortBy);
            let str = `<div class="rel-container"><h2>${title}</h2>`
            str += `<div class="rel-item caption"><a>Name</a>
                            <div class="scores">
                            <span  onclick="fillHTML(sortByBERT)">BERT</span>
                            <span onclick="fillHTML(sortByW2V)">W2V</span>
                            <span  onclick="fillHTML(sortByFinal)">Score</span></div></div>`
            str += "<div>" + frels.map(frel => {
                let score = parseFloat(frel.score).toFixed(3);
                let wm_score = parseFloat(frel.wm_score).toFixed(3);
                let interpolated_score = frel.final.toFixed(3);
                return `<div class="rel-item"><a href="${frel.label}.html">${frel.label}</a>
                            <div class="scores"><span>${score}</span>
                            <span>${wm_score}</span>
                            <span>${interpolated_score}</span></div></div>`
            }).join("\n") + " </div></div>"
            document.getElementById("relations").insertAdjacentHTML("beforeend", str)
        }
    }

    function sortByFinal(fr1, fr2) {
        return fr2.final - fr1.final;
    }

    function sortByBERT(fr1, fr2) {
        return fr2.score - fr1.score;
    }

    function sortByW2V(fr1, fr2) {
        return fr2.wm_score - fr1.wm_score;
    }

    fillHTML(sortByFinal)
</script>
</html>

